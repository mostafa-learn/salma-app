 <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ“ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø© - Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù…ØªØ¹Ø©</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap');
    :root {
  --primary-dark: #0a0a23;
  --primary-blue: #1a1a3a;
  --secondary-blue: #2d3561;
  --accent-blue: #4c6ef5;
  --bright-blue: #339af0;
  --electric-blue: #74c0fc;
  --gold: #ffd43b;
  --gold-bright: #fab005;
  --success: #51cf66;
  --success-light: #8ce99a;
  --warning: #ff8787;
  --gradient-main: linear-gradient(135deg, #0a0a23 0%, #1a1a3a 30%, #2d3561 70%, #4c6ef5 100%);
  --gradient-card: linear-gradient(135deg, #1a1a3a 0%, #2d3561 100%);
  --gradient-gold: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
  --gradient-success: linear-gradient(135deg, #51cf66 0%, #8ce99a 100%);
  --shadow-main: 0 20px 60px rgba(10,10,35,0.3);
  --shadow-card: 0 15px 35px rgba(0,0,0,0.1);
  --shadow-glow: 0 0 30px rgba(76,110,245,0.3);
  --text-dark: #fff;
  --text-light: #fff;
}
// ...existing code...

html, body {
  font-family: 'Cairo', sans-serif;
  background: var(--gradient-main);
  color: #fff;
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
}

// ...existing code...

.card, .mode-card, .game-board, .modal-content {
  background: var(--gradient-card) !important;
  color: #fff !important;
  border: 2px solid var(--accent-blue);
}

input, select {
  background: #222 !important;
  color: #fff !important;
  border: 2px solid var(--accent-blue);
}

.section-header h2 {
  font-size: 32px;
  font-weight: 800;
  background: var(--gradient-gold);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  color: #fff;
}

// ...existing code...

.number-display {
  background: var(--primary-blue);
  border: 6px solid var(--accent-blue);
  border-radius: 35px;
  width: min(400px, 90vw);
  height: min(300px, 50vh);
  display: grid;
  place-items: center;
  margin: 30px auto;
  font-size: clamp(100px, 20vw, 200px);
  font-weight: 900;
  color: #fff;
  position: relative;
  overflow: hidden;
  background-clip: padding-box;
}

// ...existing code...

.emoji-display {
  font-size: 100px;
  margin: 25px 0;
  animation: emojiFloat 3s ease-in-out infinite;
  filter: drop-shadow(0 10px 20px rgba(0,0,0,0.2));
  color: #74c0fc;
}

// ...existing code...

.puzzle-item {
  background: var(--gradient-card);
  border: 4px solid var(--accent-blue);
  border-radius: 20px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  color: #fff;
}

// ...existing code...

.btn {
  background: var(--accent-blue);
  color: #fff;
  border: none;
  border-radius: 30px;
  padding: 18px 35px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(76,110,245,0.3);
  font-family: 'Cairo', sans-serif;
}

// ...existing code...

.btn.primary {
  background: var(--gradient-success);
  color: #fff;
  box-shadow: 0 10px 30px rgba(81,207,102,0.3);
}

// ...existing code...

.btn.secondary {
  background: linear-gradient(135deg, var(--accent-blue), var(--bright-blue));
  color: #fff;
  box-shadow: 0 10px 30px rgba(76,110,245,0.3);
}

// ...existing code...

// Ø¹Ø¯Ù„ Ø£ÙŠ Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ Ø£Ùˆ Ø±Ù…Ø§Ø¯ÙŠØ© ÙÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¥Ù„Ù‰ Ø£Ù„ÙˆØ§Ù† ØºØ§Ù…Ù‚Ø© Ø¨Ù†ÙØ³ Ø§Ù„Ù†Ù…Ø· Ø£Ø¹Ù„Ø§Ù‡.
    :root {
      --primary-dark: #0a0a23;
      --primary-blue: #1a1a3a;
      --secondary-blue: #2d3561;
      --accent-blue: #4c6ef5;
      --bright-blue: #339af0;
      --electric-blue: #74c0fc;
      --gold: #ffd43b;
      --gold-bright: #fab005;
      --silver: #dee2e6;
      --success: #51cf66;
      --success-light: #8ce99a;
      --warning: #ff8787;
      --gradient-main: linear-gradient(135deg, #0a0a23 0%, #1a1a3a 30%, #2d3561 70%, #4c6ef5 100%);
      --gradient-card: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,249,250,0.9) 100%);
      --gradient-gold: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
      --gradient-success: linear-gradient(135deg, #51cf66 0%, #8ce99a 100%);
      --shadow-main: 0 20px 60px rgba(10,10,35,0.3);
      --shadow-card: 0 15px 35px rgba(0,0,0,0.1);
      --shadow-glow: 0 0 30px rgba(76,110,245,0.3);
      --text-dark: #212529;
      --text-light: #495057;
    }
    
    * { 
      box-sizing: border-box; 
      margin: 0; 
      padding: 0; 
    }
    
    html, body {
      font-family: 'Cairo', sans-serif;
      background: var(--gradient-main);
      color: var(--text-dark);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 20% 80%, rgba(76,110,245,0.1) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(255,212,59,0.1) 0%, transparent 50%);
      z-index: -1;
      animation: backgroundMove 20s ease-in-out infinite;
    }
    
    @keyframes backgroundMove {
      0%, 100% { transform: translateX(0) translateY(0); }
      25% { transform: translateX(-20px) translateY(-10px); }
      50% { transform: translateX(10px) translateY(-20px); }
      75% { transform: translateX(-10px) translateY(10px); }
    }
    
    .container { 
      max-width: 1400px; 
      margin: auto; 
      padding: 20px; 
    }
    
    /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø·ÙˆØ± */
    header {
      background: linear-gradient(135deg, rgba(10,10,35,0.95), rgba(45,53,97,0.9));
      backdrop-filter: blur(20px);
      border-bottom: 2px solid rgba(76,110,245,0.3);
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: var(--shadow-main);
    }
    
    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .brand {
      display: flex;
      align-items: center;
      gap: 20px;
      color: white;
      font-size: 28px;
      font-weight: 900;
    }
    
    .brand .logo {
      font-size: 60px;
      background: var(--gradient-gold);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: logoFloat 3s ease-in-out infinite;
      filter: drop-shadow(0 0 10px rgba(255,212,59,0.5));
    }
    
    @keyframes logoFloat {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(5deg); }
    }
    
    .brand-text {
      background: linear-gradient(45deg, #ffffff, #74c0fc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .brand-subtitle {
      font-size: 14px;
      opacity: 0.9;
      font-weight: 400;
      margin-top: 5px;
    }
    
    .stats-container {
      display: flex;
      gap: 15px;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .stat-item {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 25px;
      padding: 12px 20px;
      color: white;
      font-weight: 600;
      font-size: 16px;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    
    .stat-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.6s;
    }
    
    .stat-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(76,110,245,0.4);
      border-color: var(--electric-blue);
    }
    
    .stat-item:hover::before {
      left: 100%;
    }
    
    /* Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„Ù…Ø­Ø³Ù† */
    .hero {
      text-align: center;
      padding: 50px 20px;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
      margin: 30px 0;
      border-radius: 30px;
      border: 2px solid rgba(255,255,255,0.2);
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(transparent, rgba(76,110,245,0.1), transparent);
      animation: rotate 15s linear infinite;
    }
    
    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .hero-content {
      position: relative;
      z-index: 2;
    }
    
    .hero h1 {
      font-size: clamp(32px, 6vw, 56px);
      background: linear-gradient(45deg, #ffffff, #74c0fc, #ffd43b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
      font-weight: 900;
      text-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    
    .hero p {
      font-size: 20px;
      color: rgba(255,255,255,0.95);
      background: rgba(255,255,255,0.1);
      display: inline-block;
      padding: 15px 30px;
      border-radius: 20px;
      margin-bottom: 30px;
      backdrop-filter: blur(10px);
    }
    
    /* Ø£Ø²Ø±Ø§Ø± Ù…ØªØ·ÙˆØ±Ø© */
    .btn-group {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .btn {
      background: var(--gradient-gold);
      color: var(--text-dark);
      border: none;
      border-radius: 30px;
      padding: 18px 35px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(255,212,59,0.3);
      font-family: 'Cairo', sans-serif;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.6s;
    }
    
    .btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 20px 40px rgba(255,212,59,0.5);
    }
    
    .btn:hover::before {
      left: 100%;
    }
    
    .btn.primary {
      background: var(--gradient-success);
      box-shadow: 0 10px 30px rgba(81,207,102,0.3);
    }
    
    .btn.primary:hover {
      box-shadow: 0 20px 40px rgba(81,207,102,0.5);
    }
    
    .btn.secondary {
      background: linear-gradient(135deg, var(--accent-blue), var(--bright-blue));
      color: white;
      box-shadow: 0 10px 30px rgba(76,110,245,0.3);
    }
    
    .btn.secondary:hover {
      box-shadow: 0 20px 40px rgba(76,110,245,0.5);
    }
    
    /* Ø¨Ø·Ø§Ù‚Ø§Øª Ù…ØªØ·ÙˆØ±Ø© */
    .card {
      background: var(--gradient-card);
      border-radius: 30px;
      padding: 30px;
      margin: 25px 0;
      box-shadow: var(--shadow-card);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255,255,255,0.3);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient-gold);
    }
    
    .card:hover {
      transform: translateY(-10px);
      box-shadow: 0 25px 50px rgba(0,0,0,0.15);
    }
    
    .hidden { display: none !important; }
    
    /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø£ÙˆØ¶Ø§Ø¹ Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
    .mode-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 25px;
      margin-top: 25px;
    }
    
    .mode-card {
      background: var(--gradient-card);
      border-radius: 25px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      border: 3px solid transparent;
      background-clip: padding-box;
    }
    
    .mode-card::before {
      content: '';
      position: absolute;
      inset: 0;
      padding: 3px;
      background: var(--gradient-gold);
      border-radius: inherit;
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      opacity: 0;
      transition: opacity 0.4s;
    }
    
    .mode-card:hover::before {
      opacity: 1;
    }
    
    .mode-card:hover {
      transform: translateY(-15px) scale(1.02);
      box-shadow: 0 25px 50px rgba(255,212,59,0.3);
    }
    
    .mode-card .icon {
      font-size: 80px;
      margin-bottom: 20px;
      background: var(--gradient-gold);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: iconPulse 2s ease-in-out infinite;
    }
    
    @keyframes iconPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    .mode-card h3 {
      font-size: 24px;
      margin-bottom: 15px;
      color: var(--primary-blue);
      font-weight: 700;
    }
    
    .mode-card p {
      color: var(--text-light);
      line-height: 1.6;
      font-size: 16px;
    }
    
    /* Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ø§Ù„Ù…Ø­Ø³Ù† */
    .number-display {
      background: linear-gradient(135deg, #ffffff, #f8f9ff, #e3f2fd);
      border: 6px solid transparent;
      border-radius: 35px;
      width: min(400px, 90vw);
      height: min(300px, 50vh);
      display: grid;
      place-items: center;
      margin: 30px auto;
      font-size: clamp(100px, 20vw, 200px);
      font-weight: 900;
      color: var(--primary-blue);
      position: relative;
      overflow: hidden;
      background-clip: padding-box;
    }
    
    .number-display::before {
      content: '';
      position: absolute;
      inset: 0;
      padding: 6px;
      background: var(--gradient-gold);
      border-radius: inherit;
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
    }
    
    .number-display::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(transparent, rgba(255,212,59,0.2), transparent);
      animation: rotate 8s linear infinite;
    }
    
    /* Ø¹Ø±Ø¶ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØªØ¹Ø¨ÙŠØ±ÙŠØ© Ø§Ù„Ù…ØªØ­Ø±Ùƒ */
    .emoji-display {
      font-size: 100px;
      margin: 25px 0;
      animation: emojiFloat 3s ease-in-out infinite;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.2));
    }
    
    @keyframes emojiFloat {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      25% { transform: translateY(-15px) rotate(5deg); }
      75% { transform: translateY(-5px) rotate(-5deg); }
    }
    
    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
    .puzzle-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }
    
    .puzzle-item {
      background: var(--gradient-card);
      border: 4px solid var(--accent-blue);
      border-radius: 20px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    
    .puzzle-item::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(255,212,59,0.3), transparent);
      transition: all 0.4s;
      transform: translate(-50%, -50%);
    }
    
    .puzzle-item:hover::before {
      width: 200px;
      height: 200px;
    }
    
    .puzzle-item:hover {
      transform: scale(1.1) rotate(2deg);
      border-color: var(--gold);
      box-shadow: var(--shadow-glow);
    }
    
    .puzzle-item.selected {
      background: var(--gradient-success);
      color: white;
      transform: scale(1.15);
      animation: correctAnswer 0.6s ease;
    }
    
    .puzzle-item.wrong {
      background: linear-gradient(135deg, #ff8787, #ff6b6b);
      color: white;
      animation: wrongShake 0.8s ease;
    }
    
    @keyframes correctAnswer {
      0% { transform: scale(1); }
      50% { transform: scale(1.3) rotate(10deg); }
      100% { transform: scale(1.15); }
    }
    
    @keyframes wrongShake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
      20%, 40%, 60%, 80% { transform: translateX(8px); }
    }
    
    /* Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© */
    .game-board {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef, #dee2e6);
      border-radius: 25px;
      padding: 30px;
      margin: 25px 0;
      min-height: 400px;
      position: relative;
      border: 3px solid rgba(76,110,245,0.3);
      overflow: hidden;
    }
    
    .game-board::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: var(--gradient-gold);
    }
    
    /* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª */
    .draggable {
      background: var(--gradient-gold);
      color: var(--text-dark);
      padding: 15px 25px;
      border-radius: 20px;
      cursor: grab;
      margin: 8px;
      display: inline-block;
      box-shadow: 0 8px 20px rgba(255,212,59,0.3);
      transition: all 0.3s ease;
      font-weight: 700;
      font-size: 18px;
    }
    
    .draggable:active {
      cursor: grabbing;
      transform: rotate(5deg) scale(1.1);
    }
    
    .draggable:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 30px rgba(255,212,59,0.4);
    }
    
    .drop-zone {
      border: 4px dashed var(--accent-blue);
      border-radius: 20px;
      min-height: 80px;
      margin: 15px;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.7);
      transition: all 0.4s ease;
      font-weight: 600;
      font-size: 18px;
    }
    
    .drop-zone.active {
      background: rgba(81,207,102,0.3);
      border-color: var(--success);
      transform: scale(1.05);
      box-shadow: var(--shadow-glow);
    }
    
    /* Ù…Ø¤Ù‚Øª Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… */
    .timer {
      background: linear-gradient(135deg, #ff8787, #ff6b6b);
      color: white;
      border-radius: 50px;
      padding: 15px 30px;
      font-size: 20px;
      font-weight: 800;
      display: inline-block;
      animation: timerPulse 1.5s infinite;
      box-shadow: 0 10px 25px rgba(255,135,135,0.4);
    }
    
    @keyframes timerPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ù…Ø­Ø³Ù† */
    .progress-bar {
      background: rgba(255,255,255,0.3);
      border-radius: 50px;
      height: 16px;
      overflow: hidden;
      margin: 15px 0;
      position: relative;
      border: 2px solid rgba(255,255,255,0.5);
    }
    
    .progress-fill {
      height: 100%;
      background: var(--gradient-success);
      border-radius: 50px;
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }
    
    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: progressShine 2s ease-in-out infinite;
    }
    
    @keyframes progressShine {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø®Ø§ØµØ© Ù…ØªÙ‚Ø¯Ù…Ø© */
    .sparkle {
      position: fixed;
      pointer-events: none;
      z-index: 9999;
      font-size: 30px;
      animation: advancedSparkle 1.5s ease-out forwards;
    }
    
    @keyframes advancedSparkle {
      0% { 
        transform: scale(0) rotate(0deg); 
        opacity: 1; 
      }
      50% { 
        transform: scale(1.3) rotate(180deg); 
        opacity: 0.8; 
      }
      100% { 
        transform: scale(2) rotate(360deg); 
        opacity: 0; 
      }
    }
    
    .celebration {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 150px;
      z-index: 9999;
      pointer-events: none;
      animation: megaCelebrate 3s ease-out forwards;
    }
    
    @keyframes megaCelebrate {
      0% { 
        transform: translate(-50%, -50%) scale(0) rotate(0deg); 
        opacity: 1; 
      }
      30% { 
        transform: translate(-50%, -50%) scale(1.5) rotate(180deg); 
        opacity: 1; 
      }
      70% { 
        transform: translate(-50%, -50%) scale(1.2) rotate(270deg); 
        opacity: 0.8; 
      }
      100% { 
        transform: translate(-50%, -50%) scale(1) rotate(360deg); 
        opacity: 0; 
      }
    }
    
    /* Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 3px solid var(--gradient-gold);
      background: var(--gradient-gold);
      background-clip: text;
      -webkit-background-clip: text;
    }
    
    .section-header h2 {
      font-size: 32px;
      font-weight: 800;
      background: var(--gradient-gold);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    /* Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10,10,35,0.9);
      z-index: 2000;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(10px);
      animation: modalFadeIn 0.4s ease-out;
    }
    
    @keyframes modalFadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    
    .modal-content {
      background: var(--gradient-card);
      border-radius: 30px;
      padding: 40px;
      max-width: 600px;
      width: 90%;
      text-align: center;
      box-shadow: 0 30px 60px rgba(0,0,0,0.3);
      border: 3px solid rgba(255,212,59,0.5);
      animation: modalSlideUp 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes modalSlideUp {
      0% { 
        transform: translateY(100px) scale(0.8); 
        opacity: 0; 
      }
      100% { 
        transform: translateY(0) scale(1); 
        opacity: 1; 
      }
    }
    
    .modal h2 {
      font-size: 28px;
      margin-bottom: 20px;
      background: var(--gradient-gold);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    /* Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
    .input-group {
      margin: 20px 0;
      text-align: right;
    }
    
    .input-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--primary-blue);
    }
    
    .input-group input,
    .input-group select {
      width: 100%;
      padding: 15px 20px;
      border-radius: 15px;
      border: 3px solid rgba(76,110,245,0.3);
      font-size: 16px;
      font-family: 'Cairo', sans-serif;
      transition: all 0.3s ease;
      background: rgba(255,255,255,0.9);
    }
    
    .input-group input:focus,
    .input-group select:focus {
      outline: none;
      border-color: var(--accent-blue);
      box-shadow: 0 0 20px rgba(76,110,245,0.3);
      transform: scale(1.02);
    }
    
    /* Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }
      
      .btn-group {
        flex-direction: column;
        align-items: center;
      }
      
      .mode-grid {
        grid-template-columns: 1fr;
      }
      
      .number-display {
        width: 95vw;
        height: 40vh;
      }
      
      .puzzle-container {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .stats-container {
        justify-content: center;
      }
    }
    
    @media (max-width: 480px) {
      .brand {
        font-size: 20px;
      }
      
      .brand .logo {
        font-size: 40px;
      }
      
      .hero h1 {
        font-size: 28px;
      }
      
      .hero p {
        font-size: 16px;
        padding: 12px 20px;
      }
      
      .btn {
        padding: 15px 25px;
        font-size: 16px;
      }
    }
    
    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØªÙØ§Ø¹Ù„ */
    .ripple-effect {
      position: relative;
      overflow: hidden;
    }
    
    .ripple-effect::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,212,59,0.4);
      transform: translate(-50%, -50%);
      transition: all 0.6s ease;
    }
    
    .ripple-effect:active::after {
      width: 300px;
      height: 300px;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="brand">
        <div class="logo">ğŸ“</div>
        <div>
          <div class="brand-text">Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©</div>
          <div class="brand-subtitle">Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù…ØªØ¹Ø© Ù„Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ø°ÙƒÙŠØ©</div>
        </div>
      </div>
      <div class="stats-container">
        <div class="stat-item" id="starsDisplay">â­ 0 Ù†Ø¬Ù…Ø©</div>
        <div class="stat-item" id="levelDisplay">ğŸ“Š Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</div>
        <div class="stat-item" id="streakDisplay">ğŸ”¥ 0 Ù…ØªØªØ§Ù„ÙŠØ©</div>
        <div class="stat-item" id="nameDisplay">ğŸ‘¤ Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…</div>
      </div>
    </div>
    
    <div class="container hero">
      <div class="hero-content">
        <h1>ğŸŒŸ Ø§ÙƒØªØ´Ù Ø¹Ø§Ù„Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„Ø³Ø­Ø±ÙŠ Ù…Ø¹Ù†Ø§!</h1>
        <p>Ø±Ø­Ù„Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø¹Ù‚ÙˆÙ„ Ø§Ù„ØµØºÙŠØ±Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ù…Ù† 5-10 Ø³Ù†ÙˆØ§Øª</p>
        <div class="btn-group">
          <button class="btn ripple-effect" id="startBtn">ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø¢Ù†</button>
          <button class="btn primary ripple-effect" id="settingsBtn">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</button>
          <button class="btn secondary ripple-effect" id="achievementsBtn">ğŸ† Ù‚Ø§Ø¹Ø© Ø§Ù„Ù…Ø¬Ø¯</button>
          <button class="btn ripple-effect" id="profileBtn">ğŸ‘‘ Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªØ·ÙˆØ±Ø© -->
    <section id="settingsPanel" class="card hidden">
      <div class="section-header">
        <h2>ğŸ¨ Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠ</h2>
        <button class="btn secondary" id="backToMain">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
      </div>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
        <div class="input-group">
          <label>ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„ØµØºÙŠØ±:</label>
          <input type="text" id="childName" placeholder="Ù…Ø§ Ø§Ø³Ù…Ùƒ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ø¨Ø·Ù„ØŸ" maxlength="20">
        </div>
        
        <div class="input-group">
          <label>ğŸ‚ Ø§Ù„Ø¹Ù…Ø±:</label>
          <select id="ageGroup">
            <option value="5-6">ğŸŒ± 5-6 Ø³Ù†ÙˆØ§Øª (Ù…Ø¨ØªØ¯Ø¦)</option>
            <option value="7-8">ğŸŒŸ 7-8 Ø³Ù†ÙˆØ§Øª (Ù…ØªÙˆØ³Ø·)</option>
            <option value="9-10">ğŸš€ 9-10 Ø³Ù†ÙˆØ§Øª (Ù…ØªÙ‚Ø¯Ù…)</option>
          </select>
        </div>
        
        <div class="input-group">
          <label>ğŸ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ø§Ù„Ù…ÙØ¶Ù„:</label>
          <select id="difficultyLevel">
            <option value="easy">ğŸŸ¢ Ø³Ù‡Ù„ - Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†</option>
            <option value="medium">ğŸŸ¡ Ù…ØªÙˆØ³Ø· - Ù„Ù„Ù…ØªØ­Ù…Ø³ÙŠÙ†</option>
            <option value="hard">ğŸ”´ ØµØ¹Ø¨ - Ù„Ù„Ø®Ø¨Ø±Ø§Ø¡</option>
            <option value="expert">ğŸŸ£ Ø®Ø¨ÙŠØ± - Ù„Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø©</option>
          </select>
        </div>
        
        <div class="input-group">
          <label>ğŸ”Š Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰:</label>
          <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="0.8" 
                 style="width: 100%; margin-top: 10px;">
          <div style="display: flex; justify-content: space-between; font-size: 14px; margin-top: 5px;">
            <span>ğŸ”‡</span>
            <span>ğŸ”Š</span>
          </div>
        </div>
        
        <div class="input-group">
          <label>ğŸ¨ Ø§Ù„Ø³Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©:</label>
          <select id="themePreference">
            <option value="default">ğŸŒŒ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ - Ø£Ø²Ø±Ù‚ Ø°Ù‡Ø¨ÙŠ</option>
            <option value="ocean">ğŸŒŠ Ø§Ù„Ù…Ø­ÙŠØ· - Ø£Ø²Ø±Ù‚ Ù…Ø§Ø¦ÙŠ</option>
            <option value="sunset">ğŸŒ… Ø§Ù„ØºØ±ÙˆØ¨ - Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ÙˆØ±Ø¯ÙŠ</option>
            <option value="forest">ğŸŒ² Ø§Ù„ØºØ§Ø¨Ø© - Ø£Ø®Ø¶Ø± Ø·Ø¨ÙŠØ¹ÙŠ</option>
            <option value="space">ğŸš€ Ø§Ù„ÙØ¶Ø§Ø¡ - Ø¨Ù†ÙØ³Ø¬ÙŠ Ù†ÙŠÙˆÙ†ÙŠ</option>
          </select>
        </div>
        
        <div class="input-group">
          <label>â±ï¸ Ù…Ø¯Ø© Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©:</label>
          <select id="sessionDuration">
            <option value="15">âš¡ 15 Ø¯Ù‚ÙŠÙ‚Ø© - Ø³Ø±ÙŠØ¹</option>
            <option value="30">ğŸ¯ 30 Ø¯Ù‚ÙŠÙ‚Ø© - Ù…ØªÙˆØ§Ø²Ù†</option>
            <option value="45">ğŸ“š 45 Ø¯Ù‚ÙŠÙ‚Ø© - Ù…Ø±ÙƒØ²</option>
            <option value="60">ğŸ† 60 Ø¯Ù‚ÙŠÙ‚Ø© - Ù…Ø§Ø±Ø§Ø«ÙˆÙ†</option>
          </select>
        </div>
      </div>
      
      <div style="text-align: center; margin-top: 30px;">
        <button class="btn primary" id="saveSettings">ğŸ’¾ Ø­ÙØ¸ ÙƒÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
        <button class="btn secondary" id="resetSettings">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
      </div>
    </section>

    <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ØªØ·ÙˆØ± -->
    <section id="modeSelection" class="card hidden">
      <div class="section-header">
        <h2>ğŸ® Ø§Ø®ØªØ± Ù…ØºØ§Ù…Ø±ØªÙƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h2>
        <button class="btn secondary" id="backToMain2">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
      </div>
      
      <div class="mode-grid">
        <div class="mode-card ripple-effect" data-mode="learn">
          <div class="icon">ğŸ“š</div>
          <h3>Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Ø­Ø±ÙŠ</h3>
          <p>Ø§ÙƒØªØ´Ù Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ø¹ Ø§Ù„Ù‚ØµØµ ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ù…Ø°Ù‡Ù„Ø©</p>
        </div>
        
        <div class="mode-card ripple-effect" data-mode="visual">
          <div class="icon">ğŸ¨</div>
          <h3>Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø±Ø¦ÙŠ</h3>
          <p>ØªØ¹Ù„Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ© Ø¨Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ù…Ù…ØªØ¹Ø©</p>
        </div>
        
        <div class="mode-card ripple-effect" data-mode="puzzles">
          <div class="icon">ğŸ§©</div>
          <h3>Ø£Ù„ØºØ§Ø² Ø§Ù„Ø¹Ù‚ÙˆÙ„ Ø§Ù„Ø°ÙƒÙŠØ©</h3>
          <p>ØªØ­Ø¯ÙŠØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ø´ÙˆÙ‚Ø© Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ</p>
        </div>
        
        <div class="mode-card ripple-effect" data-mode="games">
          <div class="icon">ğŸ¯</div>
          <h3>Ø£Ø±ÙƒØ§Ø¯ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</h3>
          <p>Ø£Ù„Ø¹Ø§Ø¨ ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ø«ÙŠØ±Ø© ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù…ØªØ¹Ø© ÙˆØ§Ù„ØªØ¹Ù„Ù…</p>
        </div>
        
        <div class="mode-card ripple-effect" data-mode="challenge">
          <div class="icon">âš¡</div>
          <h3>ØªØ­Ø¯ÙŠ Ø§Ù„Ø¨Ø±Ù‚ Ø§Ù„Ø°Ù‡Ø¨ÙŠ</h3>
          <p>Ø§Ø®ØªØ¨Ø± Ø³Ø±Ø¹Ø© Ø¨Ø¯ÙŠÙ‡ØªÙƒ ÙÙŠ Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©</p>
        </div>
        
        <div class="mode-card ripple-effect" data-mode="story">
          <div class="icon">ğŸ“–</div>
          <h3>Ø­ÙƒØ§ÙŠØ§Øª Ø§Ù„Ø£Ø±Ù‚Ø§Ù…</h3>
          <p>Ù‚ØµØµ Ù…ØµÙˆØ±Ø© Ø´ÙŠÙ‚Ø© ØªØ¹Ù„Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø©</p>
        </div>
        
        <div class="mode-card ripple-effect" data-mode="practice">
          <div class="icon">ğŸ’ª</div>
          <h3>ØµØ§Ù„Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h3>
          <p>ØªÙ…Ø§Ø±ÙŠÙ† Ù…ØªØ¯Ø±Ø¬Ø© Ù„ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ©</p>
        </div>
        
        <div class="mode-card ripple-effect" data-mode="competition">
          <div class="icon">ğŸ</div>
          <h3>Ø¨Ø·ÙˆÙ„Ø© Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø©</h3>
          <p>ØªÙ†Ø§ÙØ³ Ù…Ø¹ Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ ÙÙŠ Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ø«ÙŠØ±Ø©</p>
        </div>
      </div>
    </section>

    <!-- ÙˆØ¶Ø¹ ØªØ¹Ù„Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ø·ÙˆØ± -->
    <section id="learnMode" class="card hidden">
      <div class="section-header">
        <h2>ğŸ“š Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Ø­Ø±ÙŠ</h2>
        <div>
          <button class="btn secondary" id="prevNumber">â®ï¸ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
          <button class="btn secondary" id="nextNumber">â­ï¸ Ø§Ù„ØªØ§Ù„ÙŠ</button>
          <button class="btn secondary" id="randomNumber">ğŸ² Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
        </div>
      </div>
      
      <div style="text-align: center;">
        <div class="number-display" id="numberDisplay">0</div>
        <div class="emoji-display" id="numberEmoji">ğŸ”®</div>
        <div style="font-size: 28px; font-weight: 700; margin: 20px 0; background: var(--gradient-gold); -webkit-background-clip: text; -webkit-text-fill-color: transparent;" id="numberWord">ØµÙØ±</div>
        
        <div style="margin: 30px 0; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
          <button class="btn primary" id="speakNumber">ğŸ”Š Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù†Ø·Ù‚</button>
          <button class="btn secondary" id="showStory">ğŸ“– Ù‚ØµØ© Ø§Ù„Ø±Ù‚Ù…</button>
          <button class="btn" id="practiceNumber">âœï¸ ØªØ¯Ø±Ø¨ Ø¹Ù„ÙŠÙ‡</button>
          <button class="btn secondary" id="numberGame">ğŸ® Ø§Ù„Ø¹Ø¨ Ù…Ø¹Ù‡</button>
        </div>
        
        <div id="numberStory" class="hidden" style="background: linear-gradient(135deg, #f8f9ff, #e6f3ff); padding: 30px; border-radius: 20px; margin-top: 20px; text-align: right; border: 3px solid rgba(76,110,245,0.3);"></div>
        
        <div id="numberPractice" class="hidden" style="background: linear-gradient(135deg, #fff7f0, #ffefd5); padding: 30px; border-radius: 20px; margin-top: 20px;"></div>
      </div>
    </section>

    <!-- ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø±Ø¦ÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ± -->
    <section id="visualMode" class="card hidden">
      <div class="section-header">
        <h2>ğŸ¨ Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø±Ø¦ÙŠ</h2>
        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
          <select id="operationType" class="btn">
            <option value="+">Ø¬Ù…Ø¹ â•</option>
            <option value="-">Ø·Ø±Ø­ â–</option>
            <option value="*">Ø¶Ø±Ø¨ âœ–ï¸</option>
            <option value="/">Ù‚Ø³Ù…Ø© â—</option>
          </select>
          <button class="btn secondary" id="newProblem">ğŸ”„ Ù…Ø³Ø£Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
          <button class="btn" id="showHint">ğŸ’¡ ØªÙ„Ù…ÙŠØ­</button>
        </div>
      </div>
      
      <div class="game-board" id="visualBoard">
        <div style="text-align: center; font-size: 40px; font-weight: bold; margin: 25px 0; color: var(--primary-blue);" id="mathProblem">2 + 3 = ?</div>
        <div id="visualObjects" style="text-align: center; margin: 40px 0; min-height: 150px;"></div>
        <div id="mathHint" class="hidden" style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); padding: 20px; border-radius: 15px; margin: 20px 0; text-align: center; border: 3px solid var(--gold);"></div>
        
        <div style="text-align: center; margin-top: 30px;">
          <input type="number" id="answerInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§" 
                 style="font-size: 28px; padding: 20px; text-align: center; border-radius: 20px; border: 4px solid var(--accent-blue); width: 200px; margin-left: 20px;">
          <button class="btn primary" id="checkAnswer">âœ… ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
        </div>
        <div id="feedback" style="text-align: center; margin-top: 25px; font-size: 24px; font-weight: bold;"></div>
      </div>
    </section>

    <!-- Ù…Ù„Ù Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø´Ø®ØµÙŠ -->
    <section id="profileSection" class="card hidden">
      <div class="section-header">
        <h2>ğŸ‘‘ Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ</h2>
        <button class="btn secondary" id="backToMainProfile">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
      </div>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
        <div style="text-align: center; background: var(--gradient-gold); padding: 30px; border-radius: 20px; color: white;">
          <div style="font-size: 80px; margin-bottom: 15px;">ğŸ‘‘</div>
          <h3 style="font-size: 24px; margin-bottom: 10px;" id="profileName">Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„ØµØºÙŠØ±</h3>
          <p style="font-size: 18px;" id="profileTitle">Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø£Ø±Ù‚Ø§Ù…</p>
        </div>
        
        <div style="background: var(--gradient-success); padding: 30px; border-radius: 20px; color: white; text-align: center;">
          <div style="font-size: 60px; margin-bottom: 15px;">ğŸ“Š</div>
          <h3>Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ</h3>
          <div style="margin-top: 20px;">
            <div style="margin: 10px 0;">â­ Ø§Ù„Ù†Ø¬ÙˆÙ…: <span id="totalStars">0</span></div>
            <div style="margin: 10px 0;">ğŸ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="currentLevel">1</span></div>
            <div style="margin: 10px 0;">ğŸ”¥ Ø£Ø·ÙˆÙ„ Ù…ØªØªØ§Ù„ÙŠØ©: <span id="bestStreak">0</span></div>
            <div style="margin: 10px 0;">âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: <span id="correctAnswers">0</span></div>
          </div>
        </div>
      </div>
    </section>

    <script>
      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ø·ÙˆØ±Ø© Ù…Ø¹ 50+ Ø³Ø¤Ø§Ù„ ÙˆÙ‚ØµØµ
      const ADVANCED_NUMBERS_DATA = [
        {n: 0, word: "ØµÙØ±", emoji: "â­•", color: "#6c757d", story: "ÙƒØ§Ù† ÙŠØ§ Ù…Ø§ ÙƒØ§Ù†ØŒ ÙÙŠ Ù‚Ø¯ÙŠÙ… Ø§Ù„Ø²Ù…Ø§Ù†ØŒ Ø§Ø®ØªØ±Ø¹ Ø§Ù„Ø¹Ø±Ø¨ Ø±Ù‚Ù…Ø§Ù‹ Ø¹Ø¬ÙŠØ¨Ø§Ù‹ ÙŠÙØ¯Ø¹Ù‰ Ø§Ù„ØµÙØ±! Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø­Ø±ÙŠ ÙŠØ¹Ù†ÙŠ 'Ù„Ø§ Ø´ÙŠØ¡' Ù„ÙƒÙ†Ù‡ Ø£Ù‡Ù… Ù…Ù† ÙƒÙ„ Ø´ÙŠØ¡! Ø¨Ø¯ÙˆÙ†Ù‡ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ ÙƒØªØ§Ø¨Ø© 10 Ø£Ùˆ 100 Ø£Ùˆ Ø­ØªÙ‰ 1000!", practice: "Ø§Ø±Ø³Ù… Ø¯ÙˆØ§Ø¦Ø± ÙØ§Ø±ØºØ© ÙˆØ¹ÙØ¯Ù‡Ø§!", games: ["Ø¹Ø¯ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ù…Ø®ØªÙÙŠØ©", "Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ†Ø² Ø§Ù„Ù…ÙÙ‚ÙˆØ¯"]},
        
        {n: 1, word: "ÙˆØ§Ø­Ø¯", emoji: "1ï¸âƒ£", color: "#007bff", story: "Ø§Ù„ÙˆØ§Ø­Ø¯ Ù‡Ùˆ Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„Ø´Ø¬Ø§Ø¹ Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ù ÙˆØ­ÙŠØ¯Ø§Ù‹! Ø¥Ù†Ù‡ Ø£ÙˆÙ„ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ£Ø³Ø§Ø³ ÙƒÙ„ Ø§Ù„Ø¹Ø¯. Ù…Ø«Ù„ Ø¥ØµØ¨Ø¹ ÙˆØ§Ø­Ø¯ØŒ ÙˆØ´Ù…Ø³ ÙˆØ§Ø­Ø¯Ø© ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡ØŒ ÙˆÙ‚Ù…Ø± ÙˆØ§Ø­Ø¯ ÙŠØ¶ÙŠØ¡ Ù„ÙŠÙ„Ù†Ø§!", practice: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ÙˆØ­ÙŠØ¯Ø© Ø­ÙˆÙ„Ùƒ!", games: ["Ù„Ø¹Ø¨Ø© Ø§Ù„ÙˆØ§Ø­Ø¯ Ø§Ù„ÙˆØ­ÙŠØ¯", "Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø¥ØµØ¨Ø¹ Ø§Ù„Ø³Ø­Ø±ÙŠ"]},
        
        {n: 2, word: "Ø§Ø«Ù†Ø§Ù†", emoji: "2ï¸âƒ£", color: "#28a745", story: "Ø§Ù„Ø§Ø«Ù†Ø§Ù† ÙŠÙ…Ø«Ù„ Ø§Ù„ØµØ¯Ø§Ù‚Ø© ÙˆØ§Ù„ØªÙˆØ£Ù…! Ù…Ø«Ù„ Ø¹ÙŠÙ†ÙŠÙ†ØŒ ÙˆØ£Ø°Ù†ÙŠÙ†ØŒ ÙˆÙŠØ¯ÙŠÙ†. Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… ÙŠØ¹Ù„Ù…Ù†Ø§ Ø£Ù† Ø§Ù„Ø­ÙŠØ§Ø© Ø£Ø¬Ù…Ù„ Ù…Ø¹ ØµØ¯ÙŠÙ‚. ÙˆØ¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ø§ Ù†Ù‚ÙˆÙ„: 'Ø§Ù„Ø§Ø«Ù†Ø§Ù† Ø®ÙŠØ± Ù…Ù† Ø§Ù„ÙˆØ§Ø­Ø¯!'", practice: "Ø§Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ ÙÙŠ Ø£Ø²ÙˆØ§Ø¬!", games: ["Ù„Ø¹Ø¨Ø© Ø§Ù„ØªÙˆØ§Ø¦Ù…", "Ø±Ù‚ØµØ© Ø§Ù„Ø£Ø²ÙˆØ§Ø¬"]},
        
        {n: 3, word: "Ø«Ù„Ø§Ø«Ø©", emoji: "3ï¸âƒ£", color: "#ffc107", story: "Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø±Ù‚Ù… Ø³Ø­Ø±ÙŠ ÙˆÙ…Ù‚Ø¯Ø³! Ù…Ø«Ù„ Ø£Ù„ÙˆØ§Ù† Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŒ ÙˆØ£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…Ø«Ù„Ø«ØŒ ÙˆÙˆØ¬Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø«Ù„Ø§Ø«. ÙÙŠ Ø§Ù„Ø­ÙƒØ§ÙŠØ§Øª Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù†Ø¬Ø¯ Ø«Ù„Ø§Ø« Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ ÙˆØ«Ù„Ø§Ø« Ø£Ù…Ù†ÙŠØ§Øª!", practice: "ÙƒÙˆÙÙ‘Ù† Ù…Ø«Ù„Ø«Ø§Øª Ø¨Ø§Ù„Ø¹ÙŠØ¯Ø§Ù†!", games: ["Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ø°Ù‡Ø¨ÙŠ", "Ø³Ø± Ø§Ù„Ø£Ù…Ù†ÙŠØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«"]},
        
        {n: 4, word: "Ø£Ø±Ø¨Ø¹Ø©", emoji: "4ï¸âƒ£", color: "#dc3545", story: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø© ÙŠØ¬Ù„Ø¨ Ø§Ù„ØªÙˆØ§Ø²Ù† ÙˆØ§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±! Ù…Ø«Ù„ ÙØµÙˆÙ„ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£Ø±Ø¨Ø¹Ø©ØŒ ÙˆØ£Ø±Ø¬Ù„ Ø§Ù„ÙƒØ±Ø³ÙŠØŒ ÙˆØ§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„Ø¨ÙˆØµÙ„Ø©. Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… ÙŠØ¹Ù„Ù…Ù†Ø§ Ø£Ù† Ø§Ù„Ù‚ÙˆØ© ÙÙŠ Ø§Ù„ØªÙˆØ§Ø²Ù†!", practice: "Ø§Ø±Ø³Ù… Ù…Ø±Ø¨Ø¹Ø§Øª ÙˆÙ…Ø³ØªØ·ÙŠÙ„Ø§Øª!", games: ["Ø±Ø­Ù„Ø© Ø§Ù„ÙØµÙˆÙ„ Ø§Ù„Ø£Ø±Ø¨Ø¹Ø©", "Ù‚Ù„Ø¹Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø³Ø­Ø±ÙŠ"]},
        
        {n: 5, word: "Ø®Ù…Ø³Ø©", emoji: "5ï¸âƒ£", color: "#6610f2", story: "Ø§Ù„Ø®Ù…Ø³Ø© ÙƒØ£ØµØ§Ø¨Ø¹ ÙŠØ¯Ùƒ Ø§Ù„Ø±Ø§Ø¦Ø¹Ø©! Ø¨Ù‡Ø§ Ù†Ù„Ù…Ø³ ÙˆÙ†Ø­Ø³ ÙˆÙ†Ø¨Ø¯Ø¹. Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†: Ø®Ù…Ø³ ØµÙ„ÙˆØ§ØªØŒ ÙˆØ®Ù…Ø³ Ù‚Ø§Ø±Ø§ØªØŒ ÙˆÙ†Ø¬Ù…Ø© Ø¨Ø®Ù…Ø³ Ø±Ø¤ÙˆØ³!", practice: "Ø¹ÙØ¯ Ø¹Ù„Ù‰ Ø£ØµØ§Ø¨Ø¹ ÙŠØ¯Ùƒ!", games: ["Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„ÙŠØ¯ Ø§Ù„Ø³Ø­Ø±ÙŠØ©", "Ø§Ù„Ù†Ø¬Ù…Ø© Ø§Ù„Ø®Ù…Ø§Ø³ÙŠØ©"]},
        
        {n: 6, word: "Ø³ØªØ©", emoji: "6ï¸âƒ£", color: "#20c997", story: "Ø§Ù„Ø³ØªØ© Ø±Ù‚Ù… Ø§Ù„Ø¬Ù…Ø§Ù„ ÙˆØ§Ù„ØªÙ†Ø§ØºÙ…! Ù…Ø«Ù„ Ø±Ù‚Ø§Ù‚Ø§Øª Ø§Ù„Ø«Ù„Ø¬ Ø§Ù„Ø³Ø¯Ø§Ø³ÙŠØ©ØŒ ÙˆØ®Ù„Ø§ÙŠØ§ Ø§Ù„Ù†Ø­Ù„ØŒ ÙˆØ£ÙˆØ¬Ù‡ Ø§Ù„Ù†Ø±Ø¯. Ø§Ù„Ù†Ø­Ù„ Ø§Ø®ØªØ§Ø± Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ù„Ø¨Ù†Ø§Ø¡ Ø¨ÙŠØªÙ‡ Ù„Ø£Ù†Ù‡ Ø§Ù„Ø£Ù‚ÙˆÙ‰ ÙˆØ§Ù„Ø£Ø¬Ù…Ù„!", practice: "Ø§Ø±Ø³Ù… Ø£Ø´ÙƒØ§Ù„ Ø³Ø¯Ø§Ø³ÙŠØ©!", games: ["Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù†Ø­Ù„", "Ø³Ø± Ø±Ù‚Ø§Ù‚Ø§Øª Ø§Ù„Ø«Ù„Ø¬"]},
        
        {n: 7, word: "Ø³Ø¨Ø¹Ø©", emoji: "7ï¸âƒ£", color: "#fd7e14", story: "Ø§Ù„Ø³Ø¨Ø¹Ø© Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ Ø§Ù„Ù…Ø­Ø¸ÙˆØ¸! Ø³Ø¨Ø¹Ø© Ø£Ù„ÙˆØ§Ù† Ù„Ù‚ÙˆØ³ Ù‚Ø²Ø­ Ø§Ù„Ø¬Ù…ÙŠÙ„ØŒ ÙˆØ³Ø¨Ø¹ Ù‚Ø§Ø±Ø§Øª ÙÙŠ Ø¹Ø§Ù„Ù…Ù†Ø§ØŒ ÙˆØ³Ø¨Ø¹ Ø¹Ø¬Ø§Ø¦Ø¨ Ù„Ù„Ø¯Ù†ÙŠØ§. Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ù…Ù„ÙŠØ¡ Ø¨Ø§Ù„Ø£Ø³Ø±Ø§Ø± ÙˆØ§Ù„Ø¹Ø¬Ø§Ø¦Ø¨!", practice: "Ø§Ø±Ø³Ù… Ù‚ÙˆØ³ Ù‚Ø²Ø­ Ø¨Ø³Ø¨Ø¹Ø© Ø£Ù„ÙˆØ§Ù†!", games: ["Ø±Ø­Ù„Ø© Ù‚ÙˆØ³ Ù‚Ø²Ø­", "ÙƒÙ†Ø² Ø§Ù„Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø¨Ø¹"]},
        
        {n: 8, word: "Ø«Ù…Ø§Ù†ÙŠØ©", emoji: "8ï¸âƒ£", color: "#e83e8c", story: "Ø§Ù„Ø«Ù…Ø§Ù†ÙŠØ© Ø±Ù‚Ù… Ø§Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ù‚Ù„ÙˆØ¨! Ù‚ÙˆÙŠ ÙˆÙ…Ø³ØªÙ‚Ø± Ù…Ø«Ù„ Ø§Ù„Ø¬Ø¨Ø§Ù„. Ù„Ù‡ Ø«Ù…Ø§Ù†ÙŠØ© Ø£Ø¶Ù„Ø§Ø¹ ÙÙŠ Ø§Ù„Ø«ÙÙ…Ù†ØŒ ÙˆØ«Ù…Ø§Ù†ÙŠØ© Ø£Ø±Ø¬Ù„ Ù„Ù„Ø£Ø®Ø·Ø¨ÙˆØ· Ø§Ù„Ø°ÙƒÙŠ. Ø¥Ù†Ù‡ Ø±Ù…Ø² Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„ÙƒÙ…Ø§Ù„!", practice: "Ø§Ø±Ø³Ù… Ø±Ù‚Ù… 8 ÙƒØ¨ÙŠØ±Ø§Ù‹ ÙˆØ¬Ù…ÙŠÙ„Ø§Ù‹!", games: ["Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø£Ø®Ø·Ø¨ÙˆØ·", "Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©"]},
        
        {n: 9, word: "ØªØ³Ø¹Ø©", emoji: "9ï¸âƒ£", color: "#6f42c1", story: "Ø§Ù„ØªØ³Ø¹Ø© Ù‡Ùˆ Ø¢Ø®Ø± Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…ÙØ±Ø¯Ø©ØŒ ÙˆÙ‡Ùˆ ÙŠØ­Ø¶Ø± Ù„Ù„Ù‚ÙØ²Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ù„Ù„Ø¹Ø´Ø±Ø©! Ù…Ø«Ù„ Ø£Ø´Ù‡Ø± Ø§Ù„Ø­Ù…Ù„ Ø§Ù„ØªØ³Ø¹Ø©ØŒ ÙˆØ§Ù„ÙƒÙˆØ§ÙƒØ¨ ÙÙŠ Ù†Ø¸Ø§Ù…Ù†Ø§ Ø§Ù„Ø´Ù…Ø³ÙŠ. Ø¥Ù†Ù‡ Ø±Ù‚Ù… Ø§Ù„Ø§ÙƒØªÙ…Ø§Ù„ ÙˆØ§Ù„Ø­ÙƒÙ…Ø©!", practice: "Ø§Ø¬Ù…Ø¹ 9 Ø£Ø´ÙŠØ§Ø¡ Ø¬Ù…ÙŠÙ„Ø©!", games: ["Ø±Ø­Ù„Ø© Ø§Ù„ÙƒÙˆØ§ÙƒØ¨ Ø§Ù„ØªØ³Ø¹Ø©", "Ø¨Ø§Ø¨ Ø§Ù„Ø¹Ø´Ø±Ø© Ø§Ù„Ø³Ø­Ø±ÙŠ"]},
        
        {n: 10, word: "Ø¹Ø´Ø±Ø©", emoji: "ğŸ”Ÿ", color: "#198754", story: "Ø§Ù„Ø¹Ø´Ø±Ø© Ù‡Ùˆ Ø§Ù„ÙƒÙ…Ø§Ù„ ÙˆØ§Ù„ØªÙ…ÙŠØ²! Ø£ØµØ§Ø¨Ø¹ ÙŠØ¯ÙŠÙƒ Ø§Ù„Ø¹Ø´Ø±Ø©ØŒ ÙˆÙ†Ø¸Ø§Ù… Ø§Ù„Ø¹Ø¯ Ø§Ù„Ø¹Ø´Ø±ÙŠ Ø§Ù„Ø±Ø§Ø¦Ø¹. Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… ÙŠÙØªØ­ Ù„Ù†Ø§ Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙƒØ¨ÙŠØ±Ø©: 20, 30, 100, 1000!", practice: "Ø¹ÙØ¯ Ø¹Ù„Ù‰ Ø£ØµØ§Ø¨Ø¹ ÙŠØ¯ÙŠÙƒ ÙƒÙ„Ù‡Ø§!", games: ["Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙƒØ¨ÙŠØ±Ø©", "Ø³Ù„Ù… Ø§Ù„Ø¹Ø´Ø±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠ"]}
      ];

      // Ø¨Ù†Ùƒ Ø£Ø³Ø¦Ù„Ø© Ù…ØªÙ†ÙˆØ¹ 50+ Ø³Ø¤Ø§Ù„
      const QUESTION_BANK = [
        // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¬Ù…Ø¹ (15 Ø³Ø¤Ø§Ù„)
        {type: "add", question: "2 + 3", answer: 5, level: "easy", visual: "ğŸğŸ + ğŸŠğŸŠğŸŠ"},
        {type: "add", question: "4 + 1", answer: 5, level: "easy", visual: "â­â­â­â­ + â­"},
        {type: "add", question: "3 + 4", answer: 7, level: "easy", visual: "ğŸŸ¦ğŸŸ¦ğŸŸ¦ + ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨"},
        {type: "add", question: "5 + 2", answer: 7, level: "easy", visual: "ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ + âš½âš½"},
        {type: "add", question: "1 + 6", answer: 7, level: "easy", visual: "ğŸ¦‹ + ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸"},
        {type: "add", question: "6 + 3", answer: 9, level: "medium", visual: "ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ + ğŸ¥ğŸ¥ğŸ¥"},
        {type: "add", question: "4 + 5", answer: 9, level: "medium", visual: "ğŸˆğŸˆğŸˆğŸˆ + ğŸğŸğŸğŸğŸ"},
        {type: "add", question: "7 + 2", answer: 9, level: "medium", visual: "ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš— + ğŸš•ğŸš•"},
        {type: "add", question: "8 + 1", answer: 9, level: "medium", visual: "ğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“š + ğŸ“–"},
        {type: "add", question: "5 + 5", answer: 10, level: "medium", visual: "ğŸ†ğŸ†ğŸ†ğŸ†ğŸ† + ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡"},
        {type: "add", question: "6 + 4", answer: 10, level: "medium", visual: "ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ + âš¡âš¡âš¡âš¡"},
        {type: "add", question: "8 + 4", answer: 12, level: "hard", visual: "ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ + ğŸŒºğŸŒºğŸŒºğŸŒº"},
        {type: "add", question: "7 + 6", answer: 13, level: "hard", visual: "ğŸªğŸªğŸªğŸªğŸªğŸªğŸª + ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­ğŸ­"},
        {type: "add", question: "9 + 5", answer: 14, level: "hard", visual: "ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ + ğŸ–Œï¸ğŸ–Œï¸ğŸ–Œï¸ğŸ–Œï¸ğŸ–Œï¸"},
        {type: "add", question: "8 + 7", answer: 15, level: "expert", visual: "ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ + âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨"},
        
        // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø·Ø±Ø­ (15 Ø³Ø¤Ø§Ù„)
        {type: "subtract", question: "5 - 2", answer: 3, level: "easy", visual: "ğŸğŸğŸğŸğŸ âŒğŸğŸ"},
        {type: "subtract", question: "4 - 1", answer: 3, level: "easy", visual: "â­â­â­â­ âŒâ­"},
        {type: "subtract", question: "6 - 3", answer: 3, level: "easy", visual: "ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦ âŒğŸŸ¦ğŸŸ¦ğŸŸ¦"},
        {type: "subtract", question: "7 - 4", answer: 3, level: "easy", visual: "ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ âŒğŸ€ğŸ€ğŸ€ğŸ€"},
        {type: "subtract", question: "8 - 3", answer: 5, level: "medium", visual: "ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ âŒğŸ¦‹ğŸ¦‹ğŸ¦‹"},
        {type: "subtract", question: "9 - 4", answer: 5, level: "medium", visual: "ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ âŒğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸"},
        {type: "subtract", question: "10 - 3", answer: 7, level: "medium", visual: "ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ âŒğŸ“ğŸ“ğŸ“"},
        {type: "subtract", question: "10 - 5", answer: 5, level: "medium", visual: "ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ âŒğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡"},
        {type: "subtract", question: "9 - 2", answer: 7, level: "medium", visual: "ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ğŸ’ âŒğŸ’ğŸ’"},
        {type: "subtract", question: "8 - 1", answer: 7, level: "medium", visual: "âš¡âš¡âš¡âš¡âš¡âš¡âš¡âš¡ âŒâš¡"},
        {type: "subtract", question: "12 - 4", answer: 8, level: "hard", visual: "ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ âŒğŸ€ğŸ€ğŸ€ğŸ€"},
        {type: "subtract", question: "15 - 6", answer: 9, level: "hard", visual: "ğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒº âŒğŸŒºğŸŒºğŸŒºğŸŒºğŸŒºğŸŒº"},
        {type: "subtract", question: "13 - 5", answer: 8, level: "hard", visual: "ğŸªğŸªğŸªğŸªğŸªğŸªğŸªğŸªğŸªğŸªğŸªğŸªğŸª âŒğŸªğŸªğŸªğŸªğŸª"},
        {type: "subtract", question: "14 - 7", answer: 7, level: "expert", visual: "ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ âŒğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨ğŸ¨"},
        {type: "subtract", question: "16 - 8", answer: 8, level: "expert", visual: "ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ âŒğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ"},
        
        // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¶Ø±Ø¨ (10 Ø£Ø³Ø¦Ù„Ø©)
        {type: "multiply", question: "2 Ã— 2", answer: 4, level: "easy", visual: "ğŸŸ¦ğŸŸ¦\nğŸŸ¦ğŸŸ¦"},
        {type: "multiply", question: "3 Ã— 2", answer: 6, level: "easy", visual: "â­â­â­\nâ­â­â­"},
        {type: "multiply", question: "2 Ã— 4", answer: 8, level: "medium", visual: "ğŸğŸ\nğŸğŸ\nğŸğŸ\nğŸğŸ"},
        {type: "multiply", question: "3 Ã— 3", answer: 9, level: "medium", visual: "ğŸ€ğŸ€ğŸ€\nğŸ€ğŸ€ğŸ€\nğŸ€ğŸ€ğŸ€"},
        {type: "multiply", question: "4 Ã— 2", answer: 8, level: "medium", visual: "ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹\nğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹"},
        {type: "multiply", question: "5 Ã— 2", answer: 10, level: "hard", visual: "ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸\nğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸"},
        {type: "multiply", question: "3 Ã— 4", answer: 12, level: "hard", visual: "ğŸ“ğŸ“ğŸ“\nğŸ“ğŸ“ğŸ“\nğŸ“ğŸ“ğŸ“\nğŸ“ğŸ“ğŸ“"},
        {type: "multiply", question: "6 Ã— 2", answer: 12, level: "hard", visual: "ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥\nğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥"},
        {type: "multiply", question: "4 Ã— 3", answer: 12, level: "expert", visual: "ğŸˆğŸˆğŸˆğŸˆ\nğŸˆğŸˆğŸˆğŸˆ\nğŸˆğŸˆğŸˆğŸˆ"},
        {type: "multiply", question: "5 Ã— 3", answer: 15, level: "expert", visual: "ğŸğŸğŸğŸğŸ\nğŸğŸğŸğŸğŸ\nğŸğŸğŸğŸğŸ"},
        
        // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù‚Ø³Ù…Ø© (10 Ø£Ø³Ø¦Ù„Ø©)
        {type: "divide", question: "6 Ã· 2", answer: 3, level: "medium", visual: "ğŸğŸğŸğŸğŸğŸ â¡ï¸ ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "8 Ã· 2", answer: 4, level: "medium", visual: "â­â­â­â­â­â­â­â­ â¡ï¸ ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "10 Ã· 2", answer: 5, level: "medium", visual: "ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ â¡ï¸ ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "9 Ã· 3", answer: 3, level: "hard", visual: "ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ğŸ¦‹ â¡ï¸ ğŸ“¦ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "12 Ã· 3", answer: 4, level: "hard", visual: "ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ğŸŒ¸ â¡ï¸ ğŸ“¦ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "15 Ã· 3", answer: 5, level: "hard", visual: "ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ğŸ“ â¡ï¸ ğŸ“¦ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "12 Ã· 4", answer: 3, level: "expert", visual: "ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ğŸ¥ â¡ï¸ ğŸ“¦ğŸ“¦ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "16 Ã· 4", answer: 4, level: "expert", visual: "ğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆğŸˆ â¡ï¸ ğŸ“¦ğŸ“¦ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "20 Ã· 4", answer: 5, level: "expert", visual: "ğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸ â¡ï¸ ğŸ“¦ğŸ“¦ğŸ“¦ğŸ“¦"},
        {type: "divide", question: "18 Ã· 6", answer: 3, level: "expert", visual: "ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ â¡ï¸ ğŸ“¦ğŸ“¦ğŸ“¦ğŸ“¦ğŸ“¦ğŸ“¦"}
      ];

      // Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
      const ENCOURAGEMENT_MESSAGES = [
        {msg: "ğŸŒŸ Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹! Ø£Ù†Øª Ø¹Ø¨Ù‚Ø±ÙŠ ØµØºÙŠØ±!", icon: "ğŸ‰"},
        {msg: "ğŸ† Ù…Ù…ØªØ§Ø²! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ£Ù„Ù‚!", icon: "ğŸ‘"},
        {msg: "â­ Ø£Ø­Ø³Ù†Øª! Ø°ÙƒØ§Ø¤Ùƒ ÙŠØ¨Ù‡Ø±Ù†ÙŠ!", icon: "ğŸ¤©"},
        {msg: "ğŸ¯ Ù…Ø°Ù‡Ù„! Ø£Ù†Øª Ø¨Ø·Ù„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª!", icon: "ğŸ¥‡"},
        {msg: "ğŸ’« ÙØ®ÙˆØ± Ø¨Ùƒ! ÙˆØ§ØµÙ„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹!", icon: "ğŸŒˆ"},
        {msg: "ğŸš€ Ø®Ø§Ø±Ù‚! Ø£Ù†Øª ØªØ·ÙŠØ± Ù†Ø­Ùˆ Ø§Ù„Ù†Ø¬ÙˆÙ…!", icon: "â­"},
        {msg: "ğŸª Ø¹Ø¸ÙŠÙ…! Ø£Ù†Øª Ù†Ø¬Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù…!", icon: "ğŸ­"},
        {msg: "ğŸ… Ø¨Ø·ÙˆÙ„ÙŠ! Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥ÙŠÙ‚Ø§ÙÙƒ!", icon: "ğŸ’ª"},
        {msg: "ğŸŒ  Ø³Ø­Ø±ÙŠ! Ø£Ù†Øª Ø³Ø§Ø­Ø± Ø§Ù„Ø­Ø³Ø§Ø¨!", icon: "âœ¨"},
        {msg: "ğŸ¨ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ! Ø¹Ù‚Ù„Ùƒ ÙÙ†Ø§Ù† Ø±Ø§Ø¦Ø¹!", icon: "ğŸ­"},
        {msg: "ğŸ”¥ Ù…ØªÙˆÙ‡Ø¬! Ø£Ù†Øª Ù†Ø§Ø± ÙÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡!", icon: "âš¡"},
        {msg: "ğŸŒº Ø¬Ù…ÙŠÙ„! Ø¥Ø¬Ø§Ø¨ØªÙƒ ÙƒØ§Ù„ÙˆØ±Ø¯Ø©!", icon: "ğŸŒ¸"},
        {msg: "ğŸµ Ù…ÙˆØ³ÙŠÙ‚ÙŠ! Ø­Ù„Ùƒ Ø¹Ø°Ø¨ ÙƒØ§Ù„Ù†ØºÙ…!", icon: "ğŸ¶"},
        {msg: "ğŸ¦‹ Ø®ÙÙŠÙ! ØªØ·ÙŠØ± Ø¨ÙŠÙ† Ø§Ù„Ø£Ø±Ù‚Ø§Ù…!", icon: "ğŸŒŸ"},
        {msg: "ğŸ¯ Ø­Ù„Ùˆ! Ø¥Ø¬Ø§Ø¨ØªÙƒ Ø­Ù„ÙˆØ© ÙƒØ§Ù„Ø¹Ø³Ù„!", icon: "ğŸ"}
      ];

      // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
      const appState = {
        currentNumber: 0,
        currentQuestion: 0,
        stars: parseInt(localStorage.getItem('mathAppStars')) || 0,
        level: parseInt(localStorage.getItem('mathAppLevel')) || 1,
        streak: parseInt(localStorage.getItem('mathAppStreak')) || 0,
        bestStreak: parseInt(localStorage.getItem('mathAppBestStreak')) || 0,
        correctAnswers: parseInt(localStorage.getItem('mathAppCorrect')) || 0,
        totalAnswers: parseInt(localStorage.getItem('mathAppTotal')) || 0,
        childName: localStorage.getItem('mathAppName') || '',
        ageGroup: localStorage.getItem('mathAppAge') || '5-6',
        difficulty: localStorage.getItem('mathAppDifficulty') || 'easy',
        volume: parseFloat(localStorage.getItem('mathAppVolume')) || 0.8,
        theme: localStorage.getItem('mathAppTheme') || 'default',
        sessionDuration: parseInt(localStorage.getItem('mathAppSession')) || 30,
        challengeTime: 60,
        challengeScore: 0,
        challengeTimer: null,
        currentMode: '',
        sessionStartTime: new Date()
      };

      // Ø¹Ù†Ø§ØµØ± DOM Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
      const elements = {
        starsDisplay: document.getElementById('starsDisplay'),
        levelDisplay: document.getElementById('levelDisplay'),
        streakDisplay: document.getElementById('streakDisplay'),
        nameDisplay: document.getElementById('nameDisplay'),
        
        // Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        startBtn: document.getElementById('startBtn'),
        settingsBtn: document.getElementById('settingsBtn'),
        achievementsBtn: document.getElementById('achievementsBtn'),
        profileBtn: document.getElementById('profileBtn'),
        
        // Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        settingsPanel: document.getElementById('settingsPanel'),
        modeSelection: document.getElementById('modeSelection'),
        learnMode: document.getElementById('learnMode'),
        visualMode: document.getElementById('visualMode'),
        profileSection: document.getElementById('profileSection')
      };

      // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©
      function updateDisplay() {
        elements.starsDisplay.textContent = `â­ ${appState.stars} Ù†Ø¬Ù…Ø©`;
        elements.levelDisplay.textContent = `ğŸ“Š Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${appState.level}`;
        elements.streakDisplay.textContent = `ğŸ”¥ ${appState.streak} Ù…ØªØªØ§Ù„ÙŠØ©`;
        elements.nameDisplay.textContent = appState.childName ? 
          `ğŸ‘¤ ${appState.childName}` : 'ğŸ‘¤ Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…';
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        if (document.getElementById('profileName')) {
          document.getElementById('profileName').textContent = appState.childName || 'Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„ØµØºÙŠØ±';
          document.getElementById('totalStars').textContent = appState.stars;
          document.getElementById('currentLevel').textContent = appState.level;
          document.getElementById('bestStreak').textContent = appState.bestStreak;
          document.getElementById('correctAnswers').textContent = appState.correctAnswers;
        }
      }

      function saveState() {
        localStorage.setItem('mathAppStars', appState.stars.toString());
        localStorage.setItem('mathAppLevel', appState.level.toString());
        localStorage.setItem('mathAppStreak', appState.streak.toString());
        localStorage.setItem('mathAppBestStreak', appState.bestStreak.toString());
        localStorage.setItem('mathAppCorrect', appState.correctAnswers.toString());
        localStorage.setItem('mathAppTotal', appState.totalAnswers.toString());
        localStorage.setItem('mathAppName', appState.childName);
        localStorage.setItem('mathAppAge', appState.ageGroup);
        localStorage.setItem('mathAppDifficulty', appState.difficulty);
        localStorage.setItem('mathAppVolume', appState.volume.toString());
        localStorage.setItem('mathAppTheme', appState.theme);
        localStorage.setItem('mathAppSession', appState.sessionDuration.toString());
      }

      function hideAllSections() {
        document.querySelectorAll('section').forEach(section => {
          section.classList.add('hidden');
        });
      }

      function showSection(sectionId) {
        hideAllSections();
        document.getElementById(sectionId).classList.remove('hidden');
        appState.currentMode = sectionId;
      }

      function playAdvancedSound(text, pitch = 1.2, rate = 0.9) {
        if ('speechSynthesis' in window && appState.volume > 0) {
          const utterance = new SpeechSynthesisUtterance(text);
          utterance.volume = appState.volume;
          utterance.rate = rate;
          utterance.pitch = pitch;
          utterance.lang = 'ar-SA';
          speechSynthesis.speak(utterance);
        }
      }

      function createAdvancedSparkle(x, y, count = 5) {
        const sparkles = ['âœ¨', 'â­', 'ğŸŒŸ', 'ğŸ’«', 'âš¡', 'ğŸ’–', 'ğŸ†', 'ğŸ‰', 'ğŸŒˆ', 'ğŸ¦‹'];
        
        for (let i = 0; i < count; i++) {
          setTimeout(() => {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];
            sparkle.style.left = (x + (Math.random() - 0.5) * 200) + 'px';
            sparkle.style.top = (y + (Math.random() - 0.5) * 200) + 'px';
            sparkle.style.fontSize = (20 + Math.random() * 20) + 'px';
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 1500);
          }, i * 100);
        }
      }

      function megaCelebrate() {
        // Ø§Ø­ØªÙØ§Ù„ ÙƒØ¨ÙŠØ± Ù…Ø¹ Ø£ØµÙˆØ§Øª ÙˆØªØ£Ø«ÙŠØ±Ø§Øª
        const celebrations = ['ğŸ‰', 'ğŸ†', 'ğŸ¥‡', 'ğŸ‘‘', 'ğŸŒŸ', 'â­', 'ğŸ’«', 'ğŸŠ'];
        
        for (let i = 0; i < 3; i++) {
          setTimeout(() => {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            celebration.textContent = celebrations[Math.floor(Math.random() * celebrations.length)];
            celebration.style.left = (30 + Math.random() * 40) + '%';
            celebration.style.top = (30 + Math.random() * 40) + '%';
            document.body.appendChild(celebration);
            setTimeout(() => celebration.remove(), 3000);
          }, i * 800);
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ§Ù„ØªÙ‚Ø¯Ù…
        appState.stars += Math.floor(Math.random() * 3) + 2;
        appState.streak += 1;
        appState.correctAnswers += 1;
        
        if (appState.streak > appState.bestStreak) {
          appState.bestStreak = appState.streak;
        }
        
        // ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        const newLevel = Math.floor(appState.stars / 15) + 1;
        if (newLevel > appState.level) {
          appState.level = newLevel;
          showAdvancedModal('ğŸ† ØªØ±Ù‚ÙŠØ© Ù…Ø³ØªØ­Ù‚Ø©!', 
            `ØªÙ‡Ø§Ù†ÙŠÙ†Ø§ ${appState.childName}! Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ù„Ù„Ù…Ø³ØªÙˆÙ‰ ${appState.level}! ğŸ‰ Ø£Ù†Øª Ø¨Ø·Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ!`);
          playAdvancedSound(`ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ù„Ù„Ù…Ø³ØªÙˆÙ‰ ${appState.level}!`, 1.5, 0.8);
        }
        
        updateDisplay();
        saveState();
        
        // Ø±Ø³Ø§Ù„Ø© ØªØ´Ø¬ÙŠØ¹ÙŠØ©
        const encouragement = ENCOURAGEMENT_MESSAGES[Math.floor(Math.random() * ENCOURAGEMENT_MESSAGES.length)];
        setTimeout(() => {
          showEncouragement(encouragement.msg, encouragement.icon);
          playAdvancedSound(encouragement.msg, 1.3, 0.9);
        }, 1000);
      }

      function showAdvancedModal(title, message, type = 'success') {
        const modal = document.createElement('div');
        modal.className = 'modal';
        
        const bgColor = type === 'success' ? 'var(--gradient-success)' : 
                       type === 'warning' ? 'var(--gradient-gold)' : 'var(--gradient-card)';
        
        modal.innerHTML = `
          <div class="modal-content" style="background: ${bgColor}; color: ${type === 'success' ? 'white' : 'var(--text-dark)'};">
            <div style="font-size: 60px; margin-bottom: 20px;">${type === 'success' ? 'ğŸ†' : type === 'warning' ? 'âš ï¸' : 'â„¹ï¸'}</div>
            <h2>${title}</h2>
            <p style="font-size: 18px; margin: 20px 0; line-height: 1.6;">${message}</p>
            <button class="btn ${type === 'success' ? 'secondary' : 'primary'}" onclick="this.closest('.modal').remove()">
              ${type === 'success' ? 'ğŸ‰ Ø±Ø§Ø¦Ø¹!' : 'ğŸ‘ Ø­Ø³Ù†Ø§Ù‹'}
            </button>
          </div>
        `;
        document.body.appendChild(modal);
        
        // Ø¥Ø²Ø§Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¨Ø¹Ø¯ 4 Ø«ÙˆØ§Ù†Ù
        setTimeout(() => {
          if (modal.parentNode) {
            modal.remove();
          }
        }, 4000);
      }

      function showEncouragement(message, icon) {
        const encouragement = document.createElement('div');
        encouragement.style.cssText = `
          position: fixed; top: 20px; right: 20px; z-index: 9999;
          background: var(--gradient-gold); color: white;
          padding: 20px 30px; border-radius: 30px; font-weight: bold;
          box-shadow: 0 15px 35px rgba(255,212,59,0.4);
          animation: slideInRight 0.6s cubic-bezier(0.4, 0, 0.2, 1);
          border: 3px solid rgba(255,255,255,0.3);
          backdrop-filter: blur(10px);
          font-size: 16px; max-width: 300px;
        `;
        
        encouragement.innerHTML = `
          <div style="font-size: 30px; margin-bottom: 10px; text-align: center;">${icon}</div>
          <div>${message}</div>
        `;
        
        const style = document.createElement('style');
        style.textContent = `
          @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
        
        document.body.appendChild(encouragement);
        
        setTimeout(() => {
          encouragement.style.animation = 'slideOutRight 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
          setTimeout(() => encouragement.remove(), 600);
        }, 3500);
      }

      // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
      function initAdvancedApp() {
        updateDisplay();
        
        // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        elements.startBtn.addEventListener('click', () => {
          showSection('modeSelection');
          playAdvancedSound('Ø§Ø®ØªØ± ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ù…ÙØ¶Ù„ Ù„Ùƒ!');
        });
        
        elements.settingsBtn.addEventListener('click', () => {
          showSection('settingsPanel');
          playAdvancedSound('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠ!');
          loadSettings();
        });
        
        elements.achievementsBtn.addEventListener('click', () => {
          showAdvancedAchievements();
        });
        
        elements.profileBtn.addEventListener('click', () => {
          showSection('profileSection');
          updateProfileData();
        });

        // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹ÙˆØ¯Ø©
        document.getElementById('backToMain').addEventListener('click', () => showSection('modeSelection'));
        document.getElementById('backToMain2').addEventListener('click', () => showSection('modeSelection'));
        document.getElementById('backToMainProfile').addEventListener('click', () => showSection('modeSelection'));

        // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        document.getElementById('saveSettings').addEventListener('click', saveAdvancedSettings);
        document.getElementById('resetSettings').addEventListener('click', resetAdvancedSettings);

        // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£ÙˆØ¶Ø§Ø¹
        document.querySelectorAll('.mode-card').forEach(card => {
          card.addEventListener('click', (e) => {
            const mode = card.getAttribute('data-mode');
            initAdvancedMode(mode);
            
            // ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ù‚Ø±
            createAdvancedSparkle(e.clientX, e.clientY, 3);
          });
        });

        initAdvancedLearnMode();
        initAdvancedVisualMode();
      }

      function loadSettings() {
        document.getElementById('childName').value = appState.childName;
        document.getElementById('ageGroup').value = appState.ageGroup;
        document.getElementById('difficultyLevel').value = appState.difficulty;
        document.getElementById('volumeControl').value = appState.volume;
        document.getElementById('themePreference').value = appState.theme;
        document.getElementById('sessionDuration').value = appState.sessionDuration;
      }

      function saveAdvancedSettings() {
        appState.childName = document.getElementById('childName').value;
        appState.ageGroup = document.getElementById('ageGroup').value;
        appState.difficulty = document.getElementById('difficultyLevel').value;
        appState.volume = parseFloat(document.getElementById('volumeControl').value);
        appState.theme = document.getElementById('themePreference').value;
        appState.sessionDuration = parseInt(document.getElementById('sessionDuration').value);
        
        updateDisplay();
        saveState();
        showAdvancedModal('ğŸ’¾ ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­!', 
          `ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ ÙŠØ§ ${appState.childName || 'Ø¨Ø·Ù„'}! ğŸ‰`);
        playAdvancedSound('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­!');
      }

      function resetAdvancedSettings() {
        localStorage.clear();
        location.reload();
      }

      function updateProfileData() {
        const accuracy = appState.totalAnswers > 0 ? 
          Math.round((appState.correctAnswers / appState.totalAnswers) * 100) : 0;
        
        document.getElementById('profileName').textContent = appState.childName || 'Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„ØµØºÙŠØ±';
        
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„Ù‚Ø¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        const titles = {
          1: 'Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø£Ø±Ù‚Ø§Ù…', 2: 'Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨', 3: 'ÙØ§Ø±Ø³ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª',
          4: 'Ø³ÙŠØ¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…', 5: 'Ø£Ù…ÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø¨', 6: 'Ù…Ù„Ùƒ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª',
          7: 'Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± Ø§Ù„Ø£Ø±Ù‚Ø§Ù…', 8: 'Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨', 9: 'Ø¹Ø¨Ù‚Ø±ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª',
          10: 'Ø¥Ù„Ù‡ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…'
        };
        
        document.getElementById('profileTitle').textContent = 
          titles[Math.min(appState.level, 10)] || 'Ø¹Ø¨Ù‚Ø±ÙŠ Ø®Ø§Ø±Ù‚';
      }

      // ÙˆØ¶Ø¹ ØªØ¹Ù„Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…ØªØ·ÙˆØ±
      function initAdvancedLearnMode() {
        const numberDisplay = document.getElementById('numberDisplay');
        const numberEmoji = document.getElementById('numberEmoji');
        const numberWord = document.getElementById('numberWord');
        const numberStory = document.getElementById('numberStory');

        function showAdvancedNumber() {
          const data = ADVANCED_NUMBERS_DATA[appState.currentNumber];
          numberDisplay.textContent = data.n;
          numberEmoji.textContent = data.emoji;
          numberWord.textContent = data.word;
          numberStory.innerHTML = `
            <h3 style="color: ${data.color}; margin-bottom: 15px;">ğŸ“– Ø­ÙƒØ§ÙŠØ© Ø§Ù„Ø±Ù‚Ù… ${data.word}</h3>
            <p style="font-size: 18px; line-height: 1.8;">${data.story}</p>
            <div style="margin-top: 20px; padding: 15px; background: rgba(76,110,245,0.1); border-radius: 10px;">
              <strong>ğŸ’¡ Ù†Ø´Ø§Ø· ØªÙØ§Ø¹Ù„ÙŠ:</strong> ${data.practice}
            </div>
          `;
          
          // ØªØ£Ø«ÙŠØ± Ù„ÙˆÙ†ÙŠ Ù„Ù„Ø±Ù‚Ù…
          numberDisplay.style.color = data.color;
        }

        document.getElementById('prevNumber').addEventListener('click', () => {
          appState.currentNumber = (appState.currentNumber - 1 + ADVANCED_NUMBERS_DATA.length) % ADVANCED_NUMBERS_DATA.length;
          showAdvancedNumber();
          playAdvancedSound(`Ø§Ù„Ø±Ù‚Ù… ${ADVANCED_NUMBERS_DATA[appState.currentNumber].word}`);
        });

        document.getElementById('nextNumber').addEventListener('click', () => {
          appState.currentNumber = (appState.currentNumber + 1) % ADVANCED_NUMBERS_DATA.length;
          showAdvancedNumber();
          playAdvancedSound(`Ø§Ù„Ø±Ù‚Ù… ${ADVANCED_NUMBERS_DATA[appState.currentNumber].word}`);
          
          // Ù…ÙƒØ§ÙØ£Ø© Ù„Ù„ØªÙ‚Ø¯Ù…
          if (appState.currentNumber % 3 === 0) {
            megaCelebrate();
          }
        });

        document.getElementById('randomNumber').addEventListener('click', () => {
          appState.currentNumber = Math.floor(Math.random() * ADVANCED_NUMBERS_DATA.length);
          showAdvancedNumber();
          playAdvancedSound(`Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù‡Ùˆ ${ADVANCED_NUMBERS_DATA[appState.currentNumber].word}`);
          createAdvancedSparkle(window.innerWidth / 2, window.innerHeight / 2, 7);
        });

        document.getElementById('speakNumber').addEventListener('click', () => {
          const data = ADVANCED_NUMBERS_DATA[appState.currentNumber];
          playAdvancedSound(`${data.word}. ${data.story}`, 1.1, 0.8);
        });

        document.getElementById('showStory').addEventListener('click', () => {
          const storyEl = document.getElementById('numberStory');
          storyEl.classList.toggle('hidden');
          if (!storyEl.classList.contains('hidden')) {
            playAdvancedSound(ADVANCED_NUMBERS_DATA[appState.currentNumber].story, 1.0, 0.9);
          }
        });

        showAdvancedNumber();
      }

      // ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø±Ø¦ÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ±
      function initAdvancedVisualMode() {
        let currentProblem = {};

        function generateAdvancedProblem() {
          // Ø§Ø®ØªÙŠØ§Ø± Ø³Ø¤Ø§Ù„ Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
          const difficultyMap = {
            'easy': ['easy'],
            'medium': ['easy', 'medium'],
            'hard': ['easy', 'medium', 'hard'],
            'expert': ['easy', 'medium', 'hard', 'expert']
          };
          
          const allowedLevels = difficultyMap[appState.difficulty] || ['easy'];
          const questions = QUESTION_BANK.filter(q => allowedLevels.includes(q.level));
          const questionData = questions[Math.floor(Math.random() * questions.length)];
          
          currentProblem = questionData;
          
          document.getElementById('mathProblem').textContent = questionData.question + ' = ?';
          
          // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ù…Ø±Ø¦ÙŠ
          const visualObjects = document.getElementById('visualObjects');
          visualObjects.innerHTML = `
            <div style="font-size: 40px; margin: 20px 0; text-align: center;">
              ${questionData.visual}
            </div>
          `;
          
          // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙ„Ù…ÙŠØ­
          document.getElementById('mathHint').classList.add('hidden');
          document.getElementById('feedback').innerHTML = '';
          document.getElementById('answerInput').value = '';
        }

        function showMathHint() {
          const hintElement = document.getElementById('mathHint');
          let hintText = '';
          
          switch(currentProblem.type) {
            case 'add':
              hintText = 'ğŸ’¡ Ù†ØµÙŠØ­Ø©: Ø§Ø¬Ù…Ø¹ ÙƒÙ„ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ù…Ø¹Ø§Ù‹ ÙˆØ¹Ø¯Ù‡Ø§!';
              break;
            case 'subtract':
              hintText = 'ğŸ’¡ Ù†ØµÙŠØ­Ø©: Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙƒØ¨ÙŠØ± ÙˆØ§Ø­Ø°Ù Ù…Ù†Ù‡!';
              break;
            case 'multiply':
              hintText = 'ğŸ’¡ Ù†ØµÙŠØ­Ø©: Ø¹Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆÙ…Ø§ Ø¨Ø¯Ø§Ø®Ù„ ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©!';
              break;
            case 'divide':
              hintText = 'ğŸ’¡ Ù†ØµÙŠØ­Ø©: ÙˆØ²Ø¹ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø¨Ø§Ù„ØªØ³Ø§ÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚!';
              break;
          }
          
          hintElement.innerHTML = hintText;
          hintElement.classList.remove('hidden');
          playAdvancedSound(hintText, 1.0, 0.8);
        }

        document.getElementById('newProblem').addEventListener('click', generateAdvancedProblem);
        document.getElementById('showHint').addEventListener('click', showMathHint);
        
        document.getElementById('checkAnswer').addEventListener('click', () => {
          const answer = parseInt(document.getElementById('answerInput').value);
          const feedback = document.getElementById('feedback');
          appState.totalAnswers += 1;
          
          if (answer === currentProblem.answer) {
            const encouragement = ENCOURAGEMENT_MESSAGES[Math.floor(Math.random() * ENCOURAGEMENT_MESSAGES.length)];
            feedback.innerHTML = `<div style="color: var(--success); font-weight: bold;">
              ${encouragement.icon} ${encouragement.msg}
            </div>`;
            
            megaCelebrate();
            setTimeout(generateAdvancedProblem, 2000);
          } else {
            feedback.innerHTML = `<div style="color: var(--warning); font-weight: bold;">
              âŒ Ø£ÙˆÙ‡! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ ${currentProblem.answer}. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙŠØ§ Ø¨Ø·Ù„! ğŸ’ª
            </div>`;
            appState.streak = 0; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©
            playAdvancedSound('Ù„Ø§ Ø¨Ø£Ø³ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!', 1.0, 0.9);
          }
          
          updateDisplay();
          saveState();
        });

        // Ø¥Ù†ØªØ§Ø¬ Ø£ÙˆÙ„ Ù…Ø³Ø£Ù„Ø©
        generateAdvancedProblem();
      }

      function initAdvancedMode(mode) {
        hideAllSections();
        
        const modeMessages = {
          learn: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Ø­Ø±ÙŠ!',
          visual: 'Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø±Ø¦ÙŠ Ø§Ù„Ù…Ù…ØªØ¹!',
          puzzles: 'ÙˆÙ‚Øª Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ø°ÙƒÙŠØ©!',
          games: 'ÙÙ„Ù†Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„ØªØ¹Ù„Ù…!',
          challenge: 'ØªØ­Ø¯ÙŠ Ø§Ù„Ø³Ø±Ø¹Ø© Ø¨Ø¯Ø£!',
          story: 'Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø­ÙƒØ§ÙŠØ§Øª!',
          practice: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙÙŠ ØµØ§Ù„Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨!',
          competition: 'Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ø¨Ø·ÙˆÙ„Ø©!'
        };
        
        switch(mode) {
          case 'learn':
            showSection('learnMode');
            break;
          case 'visual':
            showSection('visualMode');
            break;
          case 'puzzles':
            initAdvancedPuzzleMode();
            break;
          case 'games':
            initAdvancedGamesMode();
            break;
          case 'challenge':
            initAdvancedChallengeMode();
            break;
          case 'story':
            initAdvancedStoryMode();
            break;
          case 'practice':
            initAdvancedPracticeMode();
            break;
          case 'competition':
            initAdvancedCompetitionMode();
            break;
        }
        
        if (modeMessages[mode]) {
          setTimeout(() => {
            playAdvancedSound(modeMessages[mode]);
            showEncouragement(modeMessages[mode], 'ğŸ¯');
          }, 500);
        }
      }

      // ÙˆØ¶Ø¹ Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ù…ØªØ·ÙˆØ±
      function initAdvancedPuzzleMode() {
        const section = createAdvancedSection('puzzleMode', 'ğŸ§© Ø£Ù„ØºØ§Ø² Ø§Ù„Ø¹Ù‚ÙˆÙ„ Ø§Ù„Ø°ÙƒÙŠØ©');
        
        const puzzles = [
          {question: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØªÙØ§Ø­Ø§Øª Ø§Ù„Ø­Ù…Ø±Ø§Ø¡ØŸ', image: 'ğŸğŸğŸğŸŠğŸŠ', answer: 3, options: [2,3,4,5]},
          {question: 'ÙƒÙ… Ù†Ø¬Ù…Ø© Ø°Ù‡Ø¨ÙŠØ© ØªØ±Ø§Ù‡Ø§ØŸ', image: 'â­â­ğŸŒŸğŸŒŸâ­', answer: 3, options: [2,3,4,5]},
          {question: 'Ø¹Ø¯ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡ ÙÙ‚Ø·!', image: 'ğŸš—ğŸš•ğŸš—ğŸš™ğŸš—', answer: 3, options: [2,3,4,5]},
          {question: 'ÙƒÙ… Ù‚Ù„Ø¨ Ø£Ø­Ù…Ø± Ù…ÙˆØ¬ÙˆØ¯ØŸ', image: 'ğŸ’–ğŸ’–ğŸ’™ğŸ’–ğŸ’š', answer: 3, options: [2,3,4,5]},
          {question: 'Ø§Ø­Ø³Ø¨ Ø§Ù„ÙƒØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡!', image: 'âšªâš«âšªâšªâš«', answer: 3, options: [2,3,4,5]}
        ];
        
        let currentPuzzle = 0;
        
        function showPuzzle() {
          const puzzle = puzzles[currentPuzzle];
          section.innerHTML = `
            <div class="section-header">
              <h2>ğŸ§© Ø£Ù„ØºØ§Ø² Ø§Ù„Ø¹Ù‚ÙˆÙ„ Ø§Ù„Ø°ÙƒÙŠØ©</h2>
              <div>
                <span class="stat-item">Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentPuzzle + 1} Ù…Ù† ${puzzles.length}</span>
                <button class="btn secondary" onclick="showSection('modeSelection')">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
              </div>
            </div>
            <div style="text-align: center; margin: 30px 0;">
              <div style="font-size: 28px; margin-bottom: 25px; color: var(--primary-blue); font-weight: bold;">
                ${puzzle.question}
              </div>
              <div style="font-size: 80px; margin: 30px 0; line-height: 1.2;">
                ${puzzle.image}
              </div>
              <div class="puzzle-container" id="puzzleOptions"></div>
              <div id="puzzleFeedback" style="margin-top: 25px; font-size: 20px;"></div>
            </div>
          `;
          
          const optionsContainer = section.querySelector('#puzzleOptions');
          puzzle.options.forEach(option => {
            const button = document.createElement('div');
            button.className = 'puzzle-item ripple-effect';
            button.innerHTML = `<div style="font-size: 32px; font-weight: bold;">${option}</div>`;
            button.addEventListener('click', (e) => {
              if (option === puzzle.answer) {
                button.classList.add('selected');
                section.querySelector('#puzzleFeedback').innerHTML = 
                  '<div style="color: var(--success); font-weight: bold;">ğŸŒŸ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ù…ØªØ§Ø²Ø©! Ø£Ù†Øª Ø°ÙƒÙŠ Ø¬Ø¯Ø§Ù‹!</div>';
                megaCelebrate();
                createAdvancedSparkle(e.clientX, e.clientY, 8);
                setTimeout(() => {
                  currentPuzzle = (currentPuzzle + 1) % puzzles.length;
                  showPuzzle();
                }, 2000);
              } else {
                button.classList.add('wrong');
                section.querySelector('#puzzleFeedback').innerHTML = 
                  '<div style="color: var(--warning); font-weight: bold;">âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙŠØ§ Ø¨Ø·Ù„!</div>';
                appState.streak = 0;
                updateDisplay();
              }
            });
            optionsContainer.appendChild(button);
          });
          
          playAdvancedSound(puzzle.question);
        }
        
        showPuzzle();
        document.querySelector('main').appendChild(section);
      }

      function createAdvancedSection(id, title) {
        hideAllSections();
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¥Ù† ÙˆØ¬Ø¯
        const existingSection = document.getElementById(id);
        if (existingSection) {
          existingSection.remove();
        }
        
        const section = document.createElement('section');
        section.id = id;
        section.className = 'card';
        return section;
      }

      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©
      function showAdvancedAchievements() {
        const achievements = [
          {
            title: 'ğŸŒ± Ø¨Ø°Ø±Ø© Ø§Ù„Ø¹Ø¨Ù‚Ø±ÙŠØ©',
            desc: 'Ø£ÙˆÙ„ 5 Ù†Ø¬ÙˆÙ…',
            condition: appState.stars >= 5,
            emoji: 'ğŸŒ±',
            reward: 'Ù„Ù‚Ø¨: Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø£Ø±Ù‚Ø§Ù…'
          },
          {
            title: 'â­ Ù†Ø¬Ù… ØµØ§Ø¹Ø¯',
            desc: '25 Ù†Ø¬Ù…Ø©',
            condition: appState.stars >= 25,
            emoji: 'â­',
            reward: 'Ù„Ù‚Ø¨: Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨'
          },
          {
            title: 'ğŸ† Ø¨Ø·Ù„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª',
            desc: '50 Ù†Ø¬Ù…Ø©',
            condition: appState.stars >= 50,
            emoji: 'ğŸ†',
            reward: 'Ù„Ù‚Ø¨: Ø³ÙŠØ¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…'
          },
          {
            title: 'ğŸ‘‘ Ù…Ù„Ùƒ Ø§Ù„Ø­Ø³Ø§Ø¨',
            desc: '100 Ù†Ø¬Ù…Ø©',
            condition: appState.stars >= 100,
            emoji: 'ğŸ‘‘',
            reward: 'Ù„Ù‚Ø¨: Ù…Ù„Ùƒ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª'
          },
          {
            title: 'ğŸ”¥ Ù…ØªØªØ§Ù„ÙŠØ© Ù†Ø§Ø±ÙŠØ©',
            desc: '10 Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø© Ù…ØªØªØ§Ù„ÙŠØ©',
            condition: appState.bestStreak >= 10,
            emoji: 'ğŸ”¥',
            reward: 'Ù‚ÙˆØ© Ø®Ø§ØµØ©: Ø§Ù„Ù†Ø§Ø± Ø§Ù„Ù…Ù‚Ø¯Ø³Ø©'
          },
          {
            title: 'âš¡ Ø§Ù„Ø¨Ø±Ù‚ Ø§Ù„Ø°Ù‡Ø¨ÙŠ',
            desc: '25 Ù…ØªØªØ§Ù„ÙŠØ©',
            condition: appState.bestStreak >= 25,
            emoji: 'âš¡',
            reward: 'Ù‚ÙˆØ© Ø®Ø§ØµØ©: Ø§Ù„Ø¨Ø±Ù‚ Ø§Ù„Ø°Ù‡Ø¨ÙŠ'
          },
          {
            title: 'ğŸš€ Ø¹Ø¨Ù‚Ø±ÙŠ Ø§Ù„ÙØ¶Ø§Ø¡',
            desc: 'Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ 10',
            condition: appState.level >= 10,
            emoji: 'ğŸš€',
            reward: 'Ù„Ù‚Ø¨: Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨'
          },
          {
            title: 'ğŸ’ Ø§Ù„Ù…Ø§Ø³Ø© Ø§Ù„Ù†Ø§Ø¯Ø±Ø©',
            desc: '90% Ø¯Ù‚Ø© ÙÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª',
            condition: (appState.totalAnswers > 0 && (appState.correctAnswers/appState.totalAnswers) >= 0.9),
            emoji: 'ğŸ’',
            reward: 'Ù‚ÙˆØ© Ø®Ø§ØµØ©: Ø§Ù„Ø¯Ù‚Ø© Ø§Ù„Ù…Ø§Ø³ÙŠØ©'
          }
        ];

        const modal = document.createElement('div');
        modal.className = 'modal';
        modal.innerHTML = `
          <div class="modal-content" style="max-width: 800px;">
            <h2 style="font-size: 36px; margin-bottom: 30px; background: var(--gradient-gold); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
              ğŸ† Ù‚Ø§Ø¹Ø© Ø§Ù„Ù…Ø¬Ø¯ ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
            </h2>
            <div style="display: grid; gap: 20px; max-height: 60vh; overflow-y: auto;">
              ${achievements.map(achievement => `
                <div style="display: flex; align-items: center; gap: 20px; padding: 20px; 
                           background: ${achievement.condition ? 'var(--gradient-success)' : 'linear-gradient(135deg, #f8f9fa, #e9ecef)'}; 
                           border-radius: 20px; transition: all 0.3s ease; color: ${achievement.condition ? 'white' : 'var(--text-dark)'};">
                  <div style="font-size: 50px; ${achievement.condition ? '' : 'filter: grayscale(1); opacity: 0.5;'}">${achievement.emoji}</div>
                  <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 20px; margin-bottom: 8px;">${achievement.title}</div>
                    <div style="font-size: 16px; margin-bottom: 8px;">${achievement.desc}</div>
                    ${achievement.condition ? `<div style="font-size: 14px; opacity: 0.9;">ğŸ Ù…ÙƒØ§ÙØ£Ø©: ${achievement.reward}</div>` : ''}
                  </div>
                  <div style="font-size: 40px;">${achievement.condition ? 'âœ…' : 'ğŸ”’'}</div>
                </div>
              `).join('')}
            </div>
            <div style="margin-top: 30px; text-align: center;">
              <button class="btn primary" onclick="this.closest('.modal').remove()">ğŸŒŸ Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹!</button>
            </div>
          </div>
        `;
        document.body.appendChild(modal);
        
        playAdvancedSound('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù‚Ø§Ø¹Ø© Ø§Ù„Ù…Ø¬Ø¯! Ù‡Ø°Ù‡ Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ Ø§Ù„Ø±Ø§Ø¦Ø¹Ø©!');
      }

      // ØªØ£Ø«ÙŠØ±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©
      document.addEventListener('click', (e) => {
        if (e.target.classList.contains('btn') || e.target.classList.contains('puzzle-item') || 
            e.target.classList.contains('mode-card')) {
          createAdvancedSparkle(e.clientX, e.clientY, 3);
          
          // ØµÙˆØª Ø§Ù„Ù†Ù‚Ø±
          if (appState.volume > 0) {
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmsnBjiS1fLNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmsnBg==');
            audio.volume = appState.volume * 0.3;
            audio.play().catch(() => {});
          }
        }
      });

      // Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
      setInterval(saveState, 60000);

      // Ø±Ø³Ø§Ø¦Ù„ ØªØ­ÙÙŠØ²ÙŠØ© Ø¯ÙˆØ±ÙŠØ©
      setInterval(() => {
        if (!document.querySelector('.modal') && appState.currentMode) {
          const encouragement = ENCOURAGEMENT_MESSAGES[Math.floor(Math.random() * ENCOURAGEMENT_MESSAGES.length)];
          showEncouragement(encouragement.msg, encouragement.icon);
        }
      }, 45000);

      // Ø¬Ø³ÙŠÙ…Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
      function createBackgroundMagic() {
        const particles = ['âœ¨', 'â­', 'ğŸŒŸ', 'ğŸ’«', 'âš¡', 'ğŸ¦‹', 'ğŸŒ¸', 'ğŸ’'];
        
        for (let i = 0; i < 3; i++) {
          setTimeout(() => {
            const particle = document.createElement('div');
            particle.style.cssText = `
              position: fixed; font-size: ${15 + Math.random() * 25}px; pointer-events: none;
              z-index: 1; opacity: ${0.3 + Math.random() * 0.4};
              left: ${Math.random() * window.innerWidth}px;
              top: ${Math.random() * window.innerHeight}px;
              animation: magicFloat ${10 + Math.random() * 10}s linear infinite;
            `;
            particle.textContent = particles[Math.floor(Math.random() * particles.length)];
            
            const style = document.createElement('style');
            style.textContent = `
              @keyframes magicFloat {
                0% { transform: translateY(0px) rotate(0deg) scale(0.5); opacity: 0; }
                10% { opacity: 0.6; transform: scale(1); }
                90% { opacity: 0.6; }
                100% { transform: translateY(-120vh) rotate(360deg) scale(0.5); opacity: 0; }
              }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(particle);
            setTimeout(() => particle.remove(), 20000);
          }, i * 3000);
        }
      }

      // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø³ÙŠÙ…Ø§Øª ÙƒÙ„ 8 Ø«ÙˆØ§Ù†Ù
      setInterval(createBackgroundMagic, 8000);

      // ØªØ£Ø«ÙŠØ± Ù…ÙˆØ¬Ø© Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù…ØªØ·ÙˆØ±
      document.addEventListener('click', (e) => {
        const ripple = document.createElement('div');
        const size = Math.random() * 50 + 30;
        const colors = ['rgba(255,212,59,0.6)', 'rgba(76,110,245,0.6)', 'rgba(81,207,102,0.6)', 'rgba(255,135,135,0.6)'];
        
        ripple.style.cssText = `
          position: absolute; border-radius: 50%;
          background: ${colors[Math.floor(Math.random() * colors.length)]};
          transform: scale(0); pointer-events: none;
          left: ${e.clientX - size/2}px; top: ${e.clientY - size/2}px;
          width: ${size}px; height: ${size}px; z-index: 9999;
          animation: advancedRipple 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        `;
        
        const style = document.createElement('style');
        style.textContent = `
          @keyframes advancedRipple {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(2); opacity: 0.8; }
            100% { transform: scale(4); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
        
        document.body.appendChild(ripple);
        setTimeout(() => ripple.remove(), 800);
      });

      // Ù†ØµØ§Ø¦Ø­ ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©
      const ADVANCED_TIPS = [
        'ğŸ§  Ù‡Ù„ ØªØ¹Ù„Ù… Ø£Ù† Ø¯Ù…Ø§ØºÙƒ ÙŠÙ†Ù…Ùˆ ÙƒÙ„Ù…Ø§ Ø­Ù„ÙŠØª Ù…Ø³Ø£Ù„Ø© Ø±ÙŠØ§Ø¶ÙŠØ©ØŸ',
        'ğŸŒŸ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†: ÙÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙˆØ§Ù„ÙÙ†!',
        'âš¡ ÙƒÙ„Ù…Ø§ ØªØ¯Ø±Ø¨Øª Ø£ÙƒØ«Ø±ØŒ Ø£ØµØ¨Ø­ Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø£Ø³Ø±Ø¹ ÙˆØ£Ø³Ù‡Ù„!',
        'ğŸ¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ØªØ¹Ù„Ù… - ÙƒÙ„ Ø®Ø·Ø£ ÙŠÙ‚Ø±Ø¨Ùƒ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©!',
        'ğŸš€ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ØªØ³Ø§Ø¹Ø¯ Ø±ÙˆØ§Ø¯ Ø§Ù„ÙØ¶Ø§Ø¡ ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù‚Ù…Ø± ÙˆØ§Ù„Ù†Ø¬ÙˆÙ…!',
        'ğŸ¨ Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ØªØ¬Ø¹Ù„ Ø§Ù„ÙÙ† Ø£ÙƒØ«Ø± Ø¬Ù…Ø§Ù„Ø§Ù‹ ÙˆØªÙ†Ø³ÙŠÙ‚Ø§Ù‹!',
        'ğŸ—ï¸ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙˆÙ† ÙŠØ³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¬Ø³ÙˆØ± ÙˆØ§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø§Ù„Ø¹Ø§Ù„ÙŠØ©!',
        'ğŸµ Ø­ØªÙ‰ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙÙŠ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ ÙˆØ§Ù„Ù†ØºÙ…Ø§Øª!'
      ];

      function showRandomTip() {
        const tip = ADVANCED_TIPS[Math.floor(Math.random() * ADVANCED_TIPS.length)];
        showAdvancedModal('ğŸ’¡ Ù‡Ù„ ØªØ¹Ù„Ù…ØŸ', tip, 'info');
        playAdvancedSound(tip, 1.0, 0.8);
      }

      // Ø¹Ø±Ø¶ Ù†ØµÙŠØ­Ø© ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
      setInterval(showRandomTip, 300000);

      // Ø­Ù…Ø§ÙŠØ© Ø¶Ø¯ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      window.addEventListener('beforeunload', (e) => {
        saveState();
        if (appState.stars > 0) {
          e.preventDefault();
          e.returnValue = 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©ØŸ Ø³ÙŠØªÙ… Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ.';
        }
      });

      // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      document.addEventListener('DOMContentLoaded', () => {
        initAdvancedApp();
        
        // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ© Ø´Ø®ØµÙŠØ©
        setTimeout(() => {
          const welcomeMsg = appState.childName ? 
            `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ ${appState.childName}! Ù…Ø³ØªØ¹Ø¯ Ù„Ù…ØºØ§Ù…Ø±Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©ØŸ` :
            'Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹ ÙÙŠ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©! Ø§Ø³ØªØ¹Ø¯ Ù„Ø±Ø­Ù„Ø© ØªØ¹Ù„Ù… Ù…Ø°Ù‡Ù„Ø©!';
          
          playAdvancedSound(welcomeMsg, 1.2, 0.8);
          showEncouragement(welcomeMsg, 'ğŸ“');
        }, 2000);
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø­Ø±ÙŠØ©
        for (let i = 0; i < 3; i++) {
          setTimeout(createBackgroundMagic, i * 2000);
        }

        // Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø®Ù„ÙÙŠØ© Ù‡Ø§Ø¯Ø¦Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)
        if (appState.volume > 0.5) {
          // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø®Ù„ÙÙŠØ© Ù‡Ù†Ø§
        }
      });

      // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø´Ø§Ø´Ø§Øª
      function handleAdvancedResize() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
        
        // ØªØ­Ø¯ÙŠØ« Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø­Ø³Ø¨ Ø§Ù„Ø´Ø§Ø´Ø©
        const fontSize = Math.min(window.innerWidth / 25, 20);
        document.documentElement.style.setProperty('--dynamic-font', fontSize + 'px');
      }

      window.addEventListener('resize', handleAdvancedResize);
      handleAdvancedResize();

      // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ¨ÙŠØ± ØºÙŠØ± Ø§Ù„Ù…Ø±ØºÙˆØ¨
      document.addEventListener('gesturestart', e => e.preventDefault());
      document.addEventListener('gesturechange', e => e.preventDefault());
      document.addEventListener('gestureend', e => e.preventDefault());

      // ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù…Ø³ÙŠØ© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©
      document.addEventListener('touchstart', (e) => {
        if (e.target.classList.contains('btn') || e.target.classList.contains('puzzle-item')) {
          e.target.style.transform = 'scale(0.95)';
        }
      });

      document.addEventListener('touchend', (e) => {
        if (e.target.classList.contains('btn') || e.target.classList.contains('puzzle-item')) {
          e.target.style.transform = '';
        }
      });

    </script>
  </body>
</html>